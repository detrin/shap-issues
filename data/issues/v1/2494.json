{
  "url": "https://api.github.com/repos/shap/shap/issues/2494",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2494/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2494/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2494/events",
  "html_url": "https://github.com/shap/shap/issues/2494",
  "id": 1198000921,
  "node_id": "I_kwDOBHDcK85HaAsZ",
  "number": 2494,
  "title": "Empty Dependence plot",
  "user": {
    "login": "Arthur-Langlois",
    "id": 56982634,
    "node_id": "MDQ6VXNlcjU2OTgyNjM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/56982634?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Arthur-Langlois",
    "html_url": "https://github.com/Arthur-Langlois",
    "followers_url": "https://api.github.com/users/Arthur-Langlois/followers",
    "following_url": "https://api.github.com/users/Arthur-Langlois/following{/other_user}",
    "gists_url": "https://api.github.com/users/Arthur-Langlois/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Arthur-Langlois/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Arthur-Langlois/subscriptions",
    "organizations_url": "https://api.github.com/users/Arthur-Langlois/orgs",
    "repos_url": "https://api.github.com/users/Arthur-Langlois/repos",
    "events_url": "https://api.github.com/users/Arthur-Langlois/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Arthur-Langlois/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-04-09T01:32:02Z",
  "updated_at": "2022-04-09T01:33:25Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi everyone whenever I run the following code to obtain a dependence plot, I get an empty graph:\r\n\r\n```\r\nshap.dependence_plot('Nationality: India', shap_post_xgb, X_post, interaction_index = 'Systems Analysis Occup.')\r\n```\r\nNote that the model is ```XGBoostClassifier()```\r\n<img width=\"462\" alt=\"Screen Shot 2022-04-08 at 21 29 17\" src=\"https://user-images.githubusercontent.com/56982634/162551235-8b808d4e-183d-4735-b690-82950851bcff.png\">\r\n\r\nI have also tried\r\n```shap.dependence_plot('Nationality: India', shap_post_xgb[0], X_post, interaction_index = 'Systems Analysis Occup.')```\r\nbut I get the following error: \r\n\r\nTypeError: order must be str, not int \r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\nInput In [22], in <module>\r\n----> 1 shap.dependence_plot('Nationality: India', shap_post_xgb[0], X_post, interaction_index = 'Systems Analysis Occup.')\r\n\r\nFile /usr/local/lib/python3.9/site-packages/shap/plots/_scatter.py:552, in dependence_legacy(ind, shap_values, features, feature_names, display_features, interaction_index, color, axis_color, cmap, dot_size, x_jitter, alpha, title, xmin, xmax, ax, show)\r\n    550 # allow vectors to be passed\r\n    551 if len(shap_values.shape) == 1:\r\n--> 552     shap_values = np.reshape(shap_values, len(shap_values), 1)\r\n    553 if len(features.shape) == 1:\r\n    554     features = np.reshape(features, len(features), 1)\r\n\r\nFile <__array_function__ internals>:5, in reshape(*args, **kwargs)\r\n\r\nFile /usr/local/lib/python3.9/site-packages/numpy/core/fromnumeric.py:299, in reshape(a, newshape, order)\r\n    199 @array_function_dispatch(_reshape_dispatcher)\r\n    200 def reshape(a, newshape, order='C'):\r\n    201     \"\"\"\r\n    202     Gives a new shape to an array without changing its data.\r\n    203 \r\n   (...)\r\n    297            [5, 6]])\r\n    298     \"\"\"\r\n--> 299     return _wrapfunc(a, 'reshape', newshape, order=order)\r\n\r\nFile /usr/local/lib/python3.9/site-packages/numpy/core/fromnumeric.py:55, in _wrapfunc(obj, method, *args, **kwds)\r\n     53 bound = getattr(obj, method, None)\r\n     54 if bound is None:\r\n---> 55     return _wrapit(obj, method, *args, **kwds)\r\n     57 try:\r\n     58     return bound(*args, **kwds)\r\n\r\nFile /usr/local/lib/python3.9/site-packages/numpy/core/fromnumeric.py:44, in _wrapit(obj, method, *args, **kwds)\r\n     42 except AttributeError:\r\n     43     wrap = None\r\n---> 44 result = getattr(asarray(obj), method)(*args, **kwds)\r\n     45 if wrap:\r\n     46     if not isinstance(result, mu.ndarray):\r\n\r\nTypeError: order must be str, not int\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2494/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2494/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
