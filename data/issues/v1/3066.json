{
  "url": "https://api.github.com/repos/shap/shap/issues/3066",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/3066/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/3066/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/3066/events",
  "html_url": "https://github.com/shap/shap/issues/3066",
  "id": 1790410604,
  "node_id": "I_kwDOBHDcK85qt39s",
  "number": 3066,
  "title": "MAINT: address all deprecation warnings in test suite",
  "user": {
    "login": "connortann",
    "id": 71127464,
    "node_id": "MDQ6VXNlcjcxMTI3NDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/71127464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/connortann",
    "html_url": "https://github.com/connortann",
    "followers_url": "https://api.github.com/users/connortann/followers",
    "following_url": "https://api.github.com/users/connortann/following{/other_user}",
    "gists_url": "https://api.github.com/users/connortann/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/connortann/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/connortann/subscriptions",
    "organizations_url": "https://api.github.com/users/connortann/orgs",
    "repos_url": "https://api.github.com/users/connortann/repos",
    "events_url": "https://api.github.com/users/connortann/events{/privacy}",
    "received_events_url": "https://api.github.com/users/connortann/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5577305596,
      "node_id": "LA_kwDOBHDcK88AAAABTG7t_A",
      "url": "https://api.github.com/repos/shap/shap/labels/ci",
      "name": "ci",
      "color": "006b75",
      "default": false,
      "description": "Relating to Continuous Integration / GitHub Actions"
    },
    {
      "id": 5747603641,
      "node_id": "LA_kwDOBHDcK88AAAABVpV4uQ",
      "url": "https://api.github.com/repos/shap/shap/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "33DC11",
      "default": true,
      "description": "This is a fix that might be easier for someone to do as a first contribution"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/shap/shap/milestones/2",
    "html_url": "https://github.com/shap/shap/milestone/2",
    "labels_url": "https://api.github.com/repos/shap/shap/milestones/2/labels",
    "id": 9579906,
    "node_id": "MI_kwDOBHDcK84Aki2C",
    "number": 2,
    "title": "0.43.0",
    "description": "",
    "creator": {
      "login": "thatlittleboy",
      "id": 30731072,
      "node_id": "MDQ6VXNlcjMwNzMxMDcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/30731072?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thatlittleboy",
      "html_url": "https://github.com/thatlittleboy",
      "followers_url": "https://api.github.com/users/thatlittleboy/followers",
      "following_url": "https://api.github.com/users/thatlittleboy/following{/other_user}",
      "gists_url": "https://api.github.com/users/thatlittleboy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thatlittleboy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thatlittleboy/subscriptions",
      "organizations_url": "https://api.github.com/users/thatlittleboy/orgs",
      "repos_url": "https://api.github.com/users/thatlittleboy/repos",
      "events_url": "https://api.github.com/users/thatlittleboy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thatlittleboy/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 10,
    "closed_issues": 23,
    "state": "open",
    "created_at": "2023-06-25T10:11:50Z",
    "updated_at": "2023-08-26T14:27:48Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 7,
  "created_at": "2023-07-05T21:54:48Z",
  "updated_at": "2023-08-22T01:14:56Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "# Context\r\n\r\nAt present, there are several deprecation warnings in the test suite logs. If left unaddressed, these will turn into future failures.\r\n\r\nWe've had  two a few cases of breaking issues, which were previously deprecation warnings. For example, a breaking change in numpy 0.24 delayed our most recent release. Let's fix these issues whilst they're still just warnings!\r\n\r\nAs an aside, it will also be useful to explicitly ignore warnings that are not within our control or that are false positives. That will keep the pytest output consise, and mean we're more likely to spot any new important warnings.\r\n\r\n# Completed\r\n\r\n- [x] typing.io\r\n- [x] distutils\r\n- [x] sentencepiece\r\n- [x] tf.keras\r\n- [x] xgboost\r\n- [x] LightGBM \r\n- [x] sklearn (column names)\r\n- [x] Unable to determine axes for colorbar\r\n- [x] default value of `n_init`\r\n- [x] Numba types scheduled for deprecation\r\n\r\n\r\n# TODO\r\n\r\n## Tensorflow\r\n\r\n- [ ] graph support has been removed in eager mode\r\n\r\n```\r\ntests/explainers/test_deep.py::test_tf_keras_mnist_cnn\r\ntests/explainers/test_deep.py::test_tf_keras_linear\r\n  Your TensorFlow version is newer than 2.4.0 and so graph support has been removed in eager mode and some static graphs may not be supported. See PR #1483 for discussion.\r\n\r\n```\r\n\r\n- [ ] Model.state_updates\r\n\r\n```\r\ntests/explainers/test_deep.py::test_tf_keras_mnist_cnn\r\ntests/explainers/test_gradient.py::test_tf_keras_mnist_cnn\r\n  `Model.state_updates` will be removed in a future version. This property should not be used in TensorFlow 2.0, as `updates` are applied automatically.\r\n\r\n```\r\n\r\n## Pytorch\r\n\r\n- [ ] pytorch\r\n\r\n```\r\ntests/explainers/test_deep.py::test_pytorch_mnist_cnn\r\ntests/explainers/test_deep.py::test_pytorch_custom_nested_models\r\ntests/explainers/test_deep.py::test_pytorch_single_output\r\ntests/explainers/test_deep.py::test_pytorch_multiple_inputs\r\n  Using a non-full backward hook when the forward contains multiple autograd Nodes is deprecated and will be removed in future versions. This hook will be missing some grad_input. Please use register_full_backward_hook to get the documented behavior.\r\n\r\n```\r\n\r\n## Sklearn\r\n\r\n- [ ] feature names\r\n\r\n```\r\ntests/explainers/test_kernel.py: 21 warnings\r\n  X has feature names, but LinearRegression was fitted without feature names\r\n\r\n```\r\n\r\n\r\n## Transformers\r\n\r\n- [ ] Transformers max_length \r\n\r\n```\r\ntests/explainers/test_partition.py::test_translation\r\ntests/explainers/test_partition.py::test_translation\r\ntests/explainers/test_partition.py::test_translation_auto\r\ntests/explainers/test_partition.py::test_translation_algorithm_arg\r\ntests/explainers/test_partition.py::test_serialization\r\ntests/explainers/test_partition.py::test_serialization_no_model_or_masker\r\ntests/explainers/test_partition.py::test_serialization_custom_model_save\r\n  Using `max_length`'s default (20) to control the generation length. This behaviour is deprecated and will be removed from the config in v5 of Transformers -- we recommend using `max_new_tokens` to control the maximum length of the generation.\r\n\r\ntests/models/test_text_generation.py::test_call_function_text_generation\r\n  Using `max_length`'s default to control the generation length. This behaviour is deprecated and will be removed from the config in v5 of Transformers -- we recommend using `max_new_tokens` to control the maximum length of the generation.\r\n```\r\n\r\n## Plots\r\n\r\n- [ ] No data for colormapping\r\n\r\n```\r\ntests/explainers/test_tree.py::test_front_page_xgboost\r\ntests/explainers/test_tree.py::test_front_page_sklearn\r\ntests/explainers/test_tree.py::test_front_page_sklearn\r\ntests/explainers/test_tree.py::TestExplainerSklearn::test_sklearn_interaction_values\r\ntests/plots/test_beeswarm.py::test_simple_beeswarm\r\ntests/plots/test_summary.py::test_random_summary_with_data\r\ntests/plots/test_summary.py::test_random_summary_dot_with_data\r\ntests/plots/test_summary.py::test_random_summary_violin_with_data\r\ntests/plots/test_violin.py::test_random_summary_violin_with_data2\r\n  No data for colormapping provided via 'c'. Parameters 'vmin', 'vmax' will be ignored\r\n```\r\n\r\n- [ ] Figure layout changed\r\n\r\n```\r\ntests/explainers/test_tree.py: 2 warnings\r\ntests/plots/test_summary.py: 8 warnings\r\n  The figure layout has changed to tight\r\n```\r\n\r\n## Pyspark\r\n\r\n- [x] Pyspark check_additivity\r\n\r\n```\r\ntests/explainers/test_tree.py::test_pyspark_classifier_decision_tree\r\ntests/explainers/test_tree.py::test_pyspark_classifier_decision_tree\r\ntests/explainers/test_tree.py::test_pyspark_classifier_decision_tree\r\ntests/explainers/test_tree.py::test_pyspark_regression_decision_tree\r\ntests/explainers/test_tree.py::test_pyspark_regression_decision_tree\r\ntests/explainers/test_tree.py::test_pyspark_regression_decision_tree\r\n  check_additivity requires us to run predictions which is not supported with spark, ignoring. Set check_additivity=False to remove this warning\r\n\r\n```\r\n",
  "closed_by": {
    "login": "thatlittleboy",
    "id": 30731072,
    "node_id": "MDQ6VXNlcjMwNzMxMDcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/30731072?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thatlittleboy",
    "html_url": "https://github.com/thatlittleboy",
    "followers_url": "https://api.github.com/users/thatlittleboy/followers",
    "following_url": "https://api.github.com/users/thatlittleboy/following{/other_user}",
    "gists_url": "https://api.github.com/users/thatlittleboy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thatlittleboy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thatlittleboy/subscriptions",
    "organizations_url": "https://api.github.com/users/thatlittleboy/orgs",
    "repos_url": "https://api.github.com/users/thatlittleboy/repos",
    "events_url": "https://api.github.com/users/thatlittleboy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thatlittleboy/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/3066/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/3066/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
