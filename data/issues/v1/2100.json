{
  "url": "https://api.github.com/repos/shap/shap/issues/2100",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2100/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2100/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2100/events",
  "html_url": "https://github.com/shap/shap/issues/2100",
  "id": 948414147,
  "node_id": "MDU6SXNzdWU5NDg0MTQxNDc=",
  "number": 2100,
  "title": "Exception: An unknown model type was passed: <class 'lightgbm.basic.Booster'>",
  "user": {
    "login": "rajesh22",
    "id": 4424103,
    "node_id": "MDQ6VXNlcjQ0MjQxMDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4424103?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rajesh22",
    "html_url": "https://github.com/rajesh22",
    "followers_url": "https://api.github.com/users/rajesh22/followers",
    "following_url": "https://api.github.com/users/rajesh22/following{/other_user}",
    "gists_url": "https://api.github.com/users/rajesh22/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rajesh22/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rajesh22/subscriptions",
    "organizations_url": "https://api.github.com/users/rajesh22/orgs",
    "repos_url": "https://api.github.com/users/rajesh22/repos",
    "events_url": "https://api.github.com/users/rajesh22/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rajesh22/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-07-20T08:16:38Z",
  "updated_at": "2021-07-20T08:38:22Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Request for help. \r\nI get error for the lightgbm model and Linearexplainer in shap module. The Linearexplainer is instantiated with and without masker. Same error is seen. The lightgbm model is perfect as it predicts the test data. However has issues with shap module. Request to help resolve the error.\r\n\r\nprint(lgb.__version__)\r\nprint(shap.__version__)\r\n3.2.1\r\n0.39.0\r\n-----------------------------------------------------------------------------\r\nlgb_explainer1 = shap.LinearExplainer(modelc, X_train_701)\r\n\r\n---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py, in run_code:\r\nLine 3437:  exec(code_obj, self.user_global_ns, self.user_ns)\r\n\r\nIn  [24]:\r\nLine 1:     lgb_explainer1 = shap.LinearExplainer(modelc, X_train_701)\r\n\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\shap\\explainers\\_linear.py, in __init__:\r\nLine 87:    self.coef, self.intercept = Linear._parse_model(model)\r\n\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\shap\\explainers\\_linear.py, in _parse_model:\r\nLine 264:   raise Exception(\"An unknown model type was passed: \" + str(type(model)))\r\n\r\nException: An unknown model type was passed: <class 'lightgbm.basic.Booster'>\r\n-------------------------------------------------------------------------------------------\r\nSecond case with masker.\r\n\r\nmasker = shap.maskers.Independent(data=X_train_701)\r\nlgb_explainer = shap.LinearExplainer(modelc, masker=masker)\r\nshap_values=lgb_explainer(X_test)\r\n\r\n---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py, in run_code:\r\nLine 3437:  exec(code_obj, self.user_global_ns, self.user_ns)\r\n\r\nIn  [14]:\r\nLine 2:     lgb_explainer = shap.LinearExplainer(modelc, masker=masker)\r\n\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\shap\\explainers\\_linear.py, in __init__:\r\nLine 87:    self.coef, self.intercept = Linear._parse_model(model)\r\n\r\nFile C:\\ProgramData\\Anaconda3\\lib\\site-packages\\shap\\explainers\\_linear.py, in _parse_model:\r\nLine 264:   raise Exception(\"An unknown model type was passed: \" + str(type(model)))\r\n\r\nException: An unknown model type was passed: <class 'lightgbm.basic.Booster'>\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2100/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2100/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
