{
  "url": "https://api.github.com/repos/shap/shap/issues/595",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/595/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/595/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/595/events",
  "html_url": "https://github.com/shap/shap/issues/595",
  "id": 445461536,
  "node_id": "MDU6SXNzdWU0NDU0NjE1MzY=",
  "number": 595,
  "title": "Using DeepExplainer with torchtext",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2019-05-17T14:09:45Z",
  "updated_at": "2022-02-17T16:41:34Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\nI am using a simple pytorch RNN to train a sentiment detection model and am using torchtext to handle the data iteration (specifically data.BucketIterator).\r\n\r\nWhen I try to use the DeepExplainer on the trained model, I get the error: `RuntimeError: only Tensors of floating point dtype can require gradients`.\r\n\r\nThe default type for tensors in the BucketIterator is torch.LongTensor, so I have experimented with changing this type to FloatTensor, but this stops the model from training.\r\n\r\nI have also tried to change the type of tensors for the background and test cases being fed into the DeepExplainer to FloatTensor, but upon instantiating the DeepExplainer I get the error: `RuntimeError: Expected tensor for argument #1 'indices' to have scalar type Long; but got CPUType instead (while checking arguments for embedding)`\r\n\r\nI'm at a bit of a loss and would appreciate any insight into what is causing the errors, and if there are known compatibility issues with torchtext.\r\n\r\nThanks!\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/595/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/595/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
