{
  "url": "https://api.github.com/repos/shap/shap/issues/2513",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2513/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2513/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2513/events",
  "html_url": "https://github.com/shap/shap/issues/2513",
  "id": 1212095078,
  "node_id": "I_kwDOBHDcK85IPxpm",
  "number": 2513,
  "title": "DeepExplainer ***TypeError with CNN LSTM",
  "user": {
    "login": "JMiklaszewski",
    "id": 54575240,
    "node_id": "MDQ6VXNlcjU0NTc1MjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/54575240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JMiklaszewski",
    "html_url": "https://github.com/JMiklaszewski",
    "followers_url": "https://api.github.com/users/JMiklaszewski/followers",
    "following_url": "https://api.github.com/users/JMiklaszewski/following{/other_user}",
    "gists_url": "https://api.github.com/users/JMiklaszewski/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JMiklaszewski/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JMiklaszewski/subscriptions",
    "organizations_url": "https://api.github.com/users/JMiklaszewski/orgs",
    "repos_url": "https://api.github.com/users/JMiklaszewski/repos",
    "events_url": "https://api.github.com/users/JMiklaszewski/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JMiklaszewski/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-04-22T09:39:09Z",
  "updated_at": "2022-04-22T09:39:46Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi @slundberg, \r\nFirst and foremost thank you for your great work on SHAP algorithm.\r\nMy question is connected to error `*** TypeError: 'NoneType' object cannot be interpreted as an integer` yielded by `shap.DeepExplainer`.\r\nI know that few issues have been already opened regarding this error, however my problem seems to be slightly different.\r\n\r\nI have successfully used the DeepExplainer in the past with LSTM models constructed with tensorflow that was characterized by following:\r\n\r\n- input shape `(None, 11, 35)`\r\n- output shape `(None, 1)`\r\n\r\nI have used the following syntax:\r\n`explainer = shap.DeepExplainer(model, X)`\r\n`shap_values = explainer.shap_values(X, check_additivity=False`\r\n\r\nHowever, when I tried to achieve the same with the CNN LSTM architecture with following parameters:\r\n- input shape `(None, None, 36, 51)`\r\n- output shape `(None, 1)`\r\n\r\nThe above mentioned error appeared when calling `explainer.shap_values`\r\n\r\nI am using below mentioned versions of packages:\r\n- shap 0.40.0\r\n- tensorflow 2.3.0\r\n\r\nThank you for your support in advance!",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2513/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2513/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
