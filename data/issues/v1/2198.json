{
  "url": "https://api.github.com/repos/shap/shap/issues/2198",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2198/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2198/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2198/events",
  "html_url": "https://github.com/shap/shap/issues/2198",
  "id": 1007293141,
  "node_id": "I_kwDOBHDcK848ChLV",
  "number": 2198,
  "title": "Can I use different background samples for each permutation in KernelSHAP",
  "user": {
    "login": "wanglamao",
    "id": 34527225,
    "node_id": "MDQ6VXNlcjM0NTI3MjI1",
    "avatar_url": "https://avatars.githubusercontent.com/u/34527225?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wanglamao",
    "html_url": "https://github.com/wanglamao",
    "followers_url": "https://api.github.com/users/wanglamao/followers",
    "following_url": "https://api.github.com/users/wanglamao/following{/other_user}",
    "gists_url": "https://api.github.com/users/wanglamao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wanglamao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wanglamao/subscriptions",
    "organizations_url": "https://api.github.com/users/wanglamao/orgs",
    "repos_url": "https://api.github.com/users/wanglamao/repos",
    "events_url": "https://api.github.com/users/wanglamao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wanglamao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-09-26T06:23:47Z",
  "updated_at": "2021-09-28T08:36:50Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, \r\nAfter reading through the code of Kernel Explainer, I know that we average over the input reference samples. So, each permutation mask is applied to all background samples, making the total number of samples to be fed into the model `self.nsamples`x`len(background_data)`. I want to cut down some time complexity from the length of backgound data, like make it simply 1. But I think this leads to inaccurate results.\r\n\r\nMy question is what if I apply permutatation mask on `self.nsamples` different data samples(assuming `self.nsamples` are large)? For example,\r\n\r\n```python\r\n# all different samples instead of np.tile(background_data, self.nsamples) in the implementation\r\nsynth_samples=dataset[:some_length] \r\nsynth_sample[i][mask_i]=explain_sample[mask_i]\r\nsynth_sample[j][mask_j]=explain_sample[mask_j]\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2198/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2198/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
