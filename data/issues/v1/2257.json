{
  "url": "https://api.github.com/repos/shap/shap/issues/2257",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2257/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2257/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2257/events",
  "html_url": "https://github.com/shap/shap/issues/2257",
  "id": 1047761562,
  "node_id": "I_kwDOBHDcK84-c5Ka",
  "number": 2257,
  "title": "Decision plot X axis is not intercepted at the sum of shap value plus model expected value",
  "user": {
    "login": "TomeASilva",
    "id": 35806717,
    "node_id": "MDQ6VXNlcjM1ODA2NzE3",
    "avatar_url": "https://avatars.githubusercontent.com/u/35806717?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TomeASilva",
    "html_url": "https://github.com/TomeASilva",
    "followers_url": "https://api.github.com/users/TomeASilva/followers",
    "following_url": "https://api.github.com/users/TomeASilva/following{/other_user}",
    "gists_url": "https://api.github.com/users/TomeASilva/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TomeASilva/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TomeASilva/subscriptions",
    "organizations_url": "https://api.github.com/users/TomeASilva/orgs",
    "repos_url": "https://api.github.com/users/TomeASilva/repos",
    "events_url": "https://api.github.com/users/TomeASilva/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TomeASilva/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-11-08T18:15:32Z",
  "updated_at": "2021-11-08T18:15:32Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "explainer = shap.TreeExplainer(pipeline.steps[2][1], new_X, model_output=\"probability\" )\r\nexpected_value = explainer.expected_value = 0.0007\r\n\r\nwith warnings.catch_warnings():\r\n    warnings.simplefilter(\"ignore\")\r\n    shap_values = explainer.shap_values(test_example )\r\n\r\nshap.decision_plot(expected_value, shap_values, features=test_example, link=\"logit\", return_objects=True )\r\n\r\nnp.sum(shap_values, axis=1) = 0.997, for one test example\r\n\r\nWhen I plot this, with link=\"logit\",  the x axis is not intercepted at 0.997 for that particular test example,  but somewhere around 0.7. And the decision plot is not centered at the expected value but at 0.5. What am I missing?? \r\n\r\nThank you very much!!\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2257/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2257/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
