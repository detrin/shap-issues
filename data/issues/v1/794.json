{
  "url": "https://api.github.com/repos/shap/shap/issues/794",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/794/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/794/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/794/events",
  "html_url": "https://github.com/shap/shap/issues/794",
  "id": 489844910,
  "node_id": "MDU6SXNzdWU0ODk4NDQ5MTA=",
  "number": 794,
  "title": "error in v0.30.0",
  "user": {
    "login": "ironv",
    "id": 4298134,
    "node_id": "MDQ6VXNlcjQyOTgxMzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4298134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ironv",
    "html_url": "https://github.com/ironv",
    "followers_url": "https://api.github.com/users/ironv/followers",
    "following_url": "https://api.github.com/users/ironv/following{/other_user}",
    "gists_url": "https://api.github.com/users/ironv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ironv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ironv/subscriptions",
    "organizations_url": "https://api.github.com/users/ironv/orgs",
    "repos_url": "https://api.github.com/users/ironv/repos",
    "events_url": "https://api.github.com/users/ironv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ironv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-09-05T15:40:25Z",
  "updated_at": "2019-09-11T20:00:34Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "```\r\n>>> lightgbm.__version__  | >>> shap.__version__\r\n'2.2.3'                   | '0.30.0'\r\n```\r\n\r\n```\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-9-b1e916a6cf78> in <module>\r\n     10 model_mat_gbm = lgb.Booster(model_file=f'{MAT_OUT}/{INST}_gbm.txt')\r\n     11 expl_mat = shap.TreeExplainer(model_mat_gbm)\r\n---> 12 shap_mat = expl_mat.shap_values(valid_mat)\r\n     13 print('  shap_mat: {:,} x {:,}'.format(*shap_mat.shape))\r\n     14 \r\n\r\n~/.local/lib/python3.6/site-packages/shap/explainers/tree.py in shap_values(self, X, y, tree_limit, approximate)\r\n    192                 phi = self.model.original_model.predict(X, num_iteration=tree_limit, pred_contrib=True)\r\n    193                 # Note: the data must be joined on the last axis\r\n--> 194                 if self.model.original_model.params['objective'] == 'binary':\r\n    195                     warnings.warn('LightGBM binary classifier with TreeExplainer shap values output has changed to a list of ndarray')\r\n    196                     phi = np.concatenate((-phi, phi), axis=-1)\r\n\r\nKeyError: 'objective'\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/794/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 2
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/794/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
