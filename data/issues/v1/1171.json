{
  "url": "https://api.github.com/repos/shap/shap/issues/1171",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1171/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1171/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1171/events",
  "html_url": "https://github.com/shap/shap/issues/1171",
  "id": 605438259,
  "node_id": "MDU6SXNzdWU2MDU0MzgyNTk=",
  "number": 1171,
  "title": "Approximate interaction values",
  "user": {
    "login": "alexcoca",
    "id": 30216068,
    "node_id": "MDQ6VXNlcjMwMjE2MDY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/30216068?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcoca",
    "html_url": "https://github.com/alexcoca",
    "followers_url": "https://api.github.com/users/alexcoca/followers",
    "following_url": "https://api.github.com/users/alexcoca/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcoca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcoca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcoca/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcoca/orgs",
    "repos_url": "https://api.github.com/users/alexcoca/repos",
    "events_url": "https://api.github.com/users/alexcoca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcoca/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-04-23T10:56:59Z",
  "updated_at": "2022-09-02T16:51:30Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi @slundberg ,\r\n\r\nI was looking at the code and was wondering why Sabaas values are not supported for LightGBM and Catboost models. On the surface of it, it looks as though removing the assertions could see the algorithm use the C extension for computing the values? \r\n\r\nI looked a bit deeper and saw that for LightGBM the above might not be possible because the \"C extension cannot handle categorical splits yet\". What doest this mean? That we can't pass data matrices with string values for different levels of categorical variables? I expect that passing an array where categorical variables are encoded numerically (e.g., 0.0, 1.0, 2.0, ...) would work. So it seems that currently the solution is to use the LightGBM implementation directly as opposed to the C extension just so the case where the user passes a mixed types (string and float) data matrix is supported? The same seems to apply to Catboost.\r\n\r\nSo, to summarise, we could, in theory, compute the Sabaas values for Catboos and LightGBM if the user encodes their feature matrix or if all their features are continuos, if the assertions were removed and the control flow would be updated? As things stand, the approximate values can't be computed and the TreeShap algorithm runs from Catboost/LightGBM. ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1171/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1171/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
