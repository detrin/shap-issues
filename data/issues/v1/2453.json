{
  "url": "https://api.github.com/repos/shap/shap/issues/2453",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2453/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2453/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2453/events",
  "html_url": "https://github.com/shap/shap/issues/2453",
  "id": 1176991294,
  "node_id": "I_kwDOBHDcK85GJ3Y-",
  "number": 2453,
  "title": "SHAP values of 0.0 for Gaussian NB",
  "user": {
    "login": "Arthur-Langlois",
    "id": 56982634,
    "node_id": "MDQ6VXNlcjU2OTgyNjM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/56982634?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Arthur-Langlois",
    "html_url": "https://github.com/Arthur-Langlois",
    "followers_url": "https://api.github.com/users/Arthur-Langlois/followers",
    "following_url": "https://api.github.com/users/Arthur-Langlois/following{/other_user}",
    "gists_url": "https://api.github.com/users/Arthur-Langlois/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Arthur-Langlois/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Arthur-Langlois/subscriptions",
    "organizations_url": "https://api.github.com/users/Arthur-Langlois/orgs",
    "repos_url": "https://api.github.com/users/Arthur-Langlois/repos",
    "events_url": "https://api.github.com/users/Arthur-Langlois/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Arthur-Langlois/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-03-22T16:09:44Z",
  "updated_at": "2022-12-25T19:34:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Thank you @slundberg and other contributors for this awesome package !\r\n\r\nI'm running two classification models, for which I want to compute the SHAP values: a logit regression and a naive bayes algorithm. When I compute these two with ```shap.Explainer(fitted_model_pre.predict, masker_pre, l1reg = False)```, I get SHAP values of 0.0 for the Naive Bayes, but seemingly normal ones for the Logit (even though their CV scores are similar). \r\nHere's my code for the computation of SHAP: \r\n```\r\ndef get_shap(X_pre, y_pre, X_post, y_post, model_pre, model_post):\r\n    \r\n    ###############PRE##############\r\n    masker_pre = shap.maskers.Independent(data = X_pre)\r\n    fitted_model_pre = model_pre.fit(X_pre,y_pre)\r\n    explainer_pre = shap.Explainer(fitted_model_pre.predict, masker_pre, l1reg = False)    \r\n    shap_obj_pre = explainer_pre.shap_values(X_pre)   \r\n   \r\n    ##############POST##############\r\n    masker_post = shap.maskers.Independent(data = X_post)\r\n    fitted_model_post = model_post.fit(X_post,y_post)\r\n    explainer_post = shap.Explainer(fitted_model_post.predict, masker_post, l1reg = False)    \r\n    shap_obj_post = explainer_post.shap_values(X_post)  \r\n     \r\n    return shap_obj_pre, shap_obj_post\r\n\r\nshap_pre_logit, shap_post_logit = get_shap(X_pre, y_pre, X_post, y_post,  \r\n                         LogisticRegression(penalty = 'none', solver='newton-cg', max_iter = 5000, \r\n                           fit_intercept = True),\r\n                        LogisticRegression(penalty = 'none', solver='newton-cg', max_iter = 5000, \r\n                           fit_intercept = True))\r\n\r\nnb_best_pre = GaussianNB(var_smoothing=1)\r\nnb_best_post = GaussianNB(var_smoothing=1)\r\n\r\nshap_pre_nb, shap_post_nb = get_shap(X_pre, y_pre, X_post, y_post,  \r\n                         nb_best_pre, nb_best_post)\r\n```\r\n![download-1](https://user-images.githubusercontent.com/56982634/159524558-aed204da-91ac-44b7-9ffd-90cd6ac85489.png)\r\nI have tried setting ```l1reg = False```, but it does not seem to change the results at all. Has anyone encountered this problem, and more specifically with Gaussian NB ? \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2453/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2453/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
