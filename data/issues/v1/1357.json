{
  "url": "https://api.github.com/repos/shap/shap/issues/1357",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1357/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1357/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1357/events",
  "html_url": "https://github.com/shap/shap/issues/1357",
  "id": 677019957,
  "node_id": "MDU6SXNzdWU2NzcwMTk5NTc=",
  "number": 1357,
  "title": "KernelExplainer with Prophet Model ",
  "user": {
    "login": "chlo90",
    "id": 22417855,
    "node_id": "MDQ6VXNlcjIyNDE3ODU1",
    "avatar_url": "https://avatars.githubusercontent.com/u/22417855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chlo90",
    "html_url": "https://github.com/chlo90",
    "followers_url": "https://api.github.com/users/chlo90/followers",
    "following_url": "https://api.github.com/users/chlo90/following{/other_user}",
    "gists_url": "https://api.github.com/users/chlo90/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chlo90/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chlo90/subscriptions",
    "organizations_url": "https://api.github.com/users/chlo90/orgs",
    "repos_url": "https://api.github.com/users/chlo90/repos",
    "events_url": "https://api.github.com/users/chlo90/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chlo90/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-08-11T16:29:05Z",
  "updated_at": "2023-06-23T13:55:49Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, \r\n\r\nI'm looking for a way to implement KernelExplainer with Facebook's Prophet model (time series). The dataset is a multivariate time series data frame (including dates, few drivers, and sales prediction as y) and unlike other models, Prophet's prediction output includes upper and lower bound of each regressor as well as y_hat which is the prediction we're looking for. However, I'm having trouble getting Prophet output to work with shap with error message below. I've tried different variations but hasn't had success. Please let me know, thank you! \r\n\r\n```\r\nm = Prophet(yearly_seasonality=5, #79% \r\n            daily_seasonality=True,\r\n            holidays=us_holidays,\r\n            interval_width=0.9,\r\n           changepoint_prior_scale=0.01,\r\n           weekly_seasonality=True)\r\nm.fit(train)\r\n\r\nX_train_summary = shap.kmeans(train, 10)\r\ndef prediction(df): \r\n    return m.predict(df)['y_hat']\r\n\r\nex = shap.KernelExplainer(prediction, X_train_summary)\r\n\r\n```\r\n\r\nAnd the error from above is: IndexError: only integers, slices (`:`), ellipsis (`...`), numpy.newaxis (`None`) and integer or boolean arrays are valid indices",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1357/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1357/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
