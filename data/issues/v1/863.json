{
  "url": "https://api.github.com/repos/shap/shap/issues/863",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/863/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/863/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/863/events",
  "html_url": "https://github.com/shap/shap/issues/863",
  "id": 511248006,
  "node_id": "MDU6SXNzdWU1MTEyNDgwMDY=",
  "number": 863,
  "title": "Support for subclasses of supported classifiers",
  "user": {
    "login": "zoj613",
    "id": 44142765,
    "node_id": "MDQ6VXNlcjQ0MTQyNzY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/44142765?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zoj613",
    "html_url": "https://github.com/zoj613",
    "followers_url": "https://api.github.com/users/zoj613/followers",
    "following_url": "https://api.github.com/users/zoj613/following{/other_user}",
    "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions",
    "organizations_url": "https://api.github.com/users/zoj613/orgs",
    "repos_url": "https://api.github.com/users/zoj613/repos",
    "events_url": "https://api.github.com/users/zoj613/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zoj613/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-10-23T11:03:29Z",
  "updated_at": "2020-11-29T05:40:41Z",
  "closed_at": "2020-11-29T05:40:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Shap's tree explainer does not seem to work at all for \"custom\" classifiers based to the supported ones.\r\n\r\nSay I have:\r\n```python\r\n# modelling.py\r\nfrom  sklearn.ensemble.gradient_boosting import GradientBoostingClassifier\r\nclass MyCustom(GradientBoostingClassifier, SomeMixin):\r\n    def custom_func(self, ...):\r\n        pass\r\n   # other methods\r\n```\r\nIf i used the shap `TreeExplainer` I get the error:\r\n`AssertionError: <class 'src.modelling.MyCustom'> is not currently a supported model type!`\r\n\r\nIs there a way to support custom classifiers that are subclasses of the supported ones if very minimal changes to the parent class are made??\r\n\r\nLooking at the source code it seems like the string output of `str(type(model))` is the check that determines if an exception should be thrown:\r\nhttps://github.com/slundberg/shap/blob/e475795cbd88fb5c0fc9b110540b872ce8456e4c/shap/explainers/tree.py#L407-L664\r\n\r\nMaybe there could be something done to see if the custom classifier has inherited from the supported parent instead?",
  "closed_by": {
    "login": "zoj613",
    "id": 44142765,
    "node_id": "MDQ6VXNlcjQ0MTQyNzY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/44142765?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zoj613",
    "html_url": "https://github.com/zoj613",
    "followers_url": "https://api.github.com/users/zoj613/followers",
    "following_url": "https://api.github.com/users/zoj613/following{/other_user}",
    "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions",
    "organizations_url": "https://api.github.com/users/zoj613/orgs",
    "repos_url": "https://api.github.com/users/zoj613/repos",
    "events_url": "https://api.github.com/users/zoj613/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zoj613/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/863/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/863/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
