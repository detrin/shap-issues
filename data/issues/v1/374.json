{
  "url": "https://api.github.com/repos/shap/shap/issues/374",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/374/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/374/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/374/events",
  "html_url": "https://github.com/shap/shap/issues/374",
  "id": 394934193,
  "node_id": "MDU6SXNzdWUzOTQ5MzQxOTM=",
  "number": 374,
  "title": "Best Approach Given Data Set Size - Pytorch Explainer",
  "user": {
    "login": "jlevy44",
    "id": 19698023,
    "node_id": "MDQ6VXNlcjE5Njk4MDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/19698023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jlevy44",
    "html_url": "https://github.com/jlevy44",
    "followers_url": "https://api.github.com/users/jlevy44/followers",
    "following_url": "https://api.github.com/users/jlevy44/following{/other_user}",
    "gists_url": "https://api.github.com/users/jlevy44/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jlevy44/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jlevy44/subscriptions",
    "organizations_url": "https://api.github.com/users/jlevy44/orgs",
    "repos_url": "https://api.github.com/users/jlevy44/repos",
    "events_url": "https://api.github.com/users/jlevy44/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jlevy44/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-12-31T06:08:08Z",
  "updated_at": "2019-01-01T01:30:41Z",
  "closed_at": "2019-01-01T01:30:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hey there!\r\n\r\nI'm working on a project with 9000 samples and 300k features. \r\n\r\nThese features were used in multi-class classification and regression (multi-output) problems, using a Pytorch neural network model.\r\n\r\nI've been trying to find the shapley values for the test set (~20% of the data), but this seems to be a computationally intractable problem, as I'm either getting huge CUDA or CPU memory errors or too lengthy compute times when I try to get the shaply_values after using Kernel, Gradient or Deep Explainers.\r\n\r\nSo far I've tried to split the shap samples up (different from data set samples) for gradient/kernel explainers and take the mean shapley values to try to handle large compute memory, and am considering running shap.kmeans beforehand to reduce the number of background samples. However, with 300k features, wouldn't kmeans center close to zero and the new background samples be meaningless? Perhaps I am mistaken about how it is used...\r\n\r\nWhat would you recommend to handle this computationally intense problem in any reasonable amount of time? \r\n\r\nAre the deep or gradient explainers worth using in this case?\r\n\r\nLooking to get array of ~3000 samples x 300k features of shapley values as end product (test set).\r\n\r\nThanks! This is an awesome library and looking forward to including it in my research in the years ahead if it works.",
  "closed_by": {
    "login": "jlevy44",
    "id": 19698023,
    "node_id": "MDQ6VXNlcjE5Njk4MDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/19698023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jlevy44",
    "html_url": "https://github.com/jlevy44",
    "followers_url": "https://api.github.com/users/jlevy44/followers",
    "following_url": "https://api.github.com/users/jlevy44/following{/other_user}",
    "gists_url": "https://api.github.com/users/jlevy44/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jlevy44/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jlevy44/subscriptions",
    "organizations_url": "https://api.github.com/users/jlevy44/orgs",
    "repos_url": "https://api.github.com/users/jlevy44/repos",
    "events_url": "https://api.github.com/users/jlevy44/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jlevy44/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/374/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/374/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
