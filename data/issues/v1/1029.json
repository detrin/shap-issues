{
  "url": "https://api.github.com/repos/shap/shap/issues/1029",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1029/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1029/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1029/events",
  "html_url": "https://github.com/shap/shap/issues/1029",
  "id": 559294219,
  "node_id": "MDU6SXNzdWU1NTkyOTQyMTk=",
  "number": 1029,
  "title": "Questions on feature importance plot on a multi-class scenario",
  "user": {
    "login": "ivan-marroquin",
    "id": 28459534,
    "node_id": "MDQ6VXNlcjI4NDU5NTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/28459534?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ivan-marroquin",
    "html_url": "https://github.com/ivan-marroquin",
    "followers_url": "https://api.github.com/users/ivan-marroquin/followers",
    "following_url": "https://api.github.com/users/ivan-marroquin/following{/other_user}",
    "gists_url": "https://api.github.com/users/ivan-marroquin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ivan-marroquin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ivan-marroquin/subscriptions",
    "organizations_url": "https://api.github.com/users/ivan-marroquin/orgs",
    "repos_url": "https://api.github.com/users/ivan-marroquin/repos",
    "events_url": "https://api.github.com/users/ivan-marroquin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ivan-marroquin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-02-03T19:46:34Z",
  "updated_at": "2020-02-08T04:39:24Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi all,\r\n\r\nI have a trained classifier on multi-class using XGBClassifier from xgboost. \r\n\r\nI followed the code in: https://github.com/slundberg/shap/blob/master/notebooks/tree_explainer/XGBoost%20Multi-class%20Example.ipynb\r\n\r\nto generate a feature importance plot (see attached zip file). My questions are the following:\r\n1) I noticed that the horizontal bars in the feature importance plot are colored according to class labels. How do I interpret the portion assigned to a class in each of the horizontal bars\r\n\r\n2) In the notebook mentioned above the validation set was used to compute shapley values. While in other notebooks, either the enitre data or training data is used. So, what is a better approach to compute the shapley values? Do I use the training set or is it better to use the validation set? In the attached figures, the ordering of features in different according to what data set was used.\r\n\r\nMany thanks,\r\n\r\nIvan\r\n\r\n\r\n[multi-class_feature_importance_plot.zip](https://github.com/slundberg/shap/files/4149862/multi-class_feature_importance_plot.zip)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1029/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1029/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
