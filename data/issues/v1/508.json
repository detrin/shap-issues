{
  "url": "https://api.github.com/repos/shap/shap/issues/508",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/508/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/508/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/508/events",
  "html_url": "https://github.com/shap/shap/pull/508",
  "id": 424597489,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjYzODk1MjE4",
  "number": 508,
  "title": "WIP: Made most dependencies be declared as extras in setup.py.",
  "user": {
    "login": "jorgecarleitao",
    "id": 2772607,
    "node_id": "MDQ6VXNlcjI3NzI2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2772607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jorgecarleitao",
    "html_url": "https://github.com/jorgecarleitao",
    "followers_url": "https://api.github.com/users/jorgecarleitao/followers",
    "following_url": "https://api.github.com/users/jorgecarleitao/following{/other_user}",
    "gists_url": "https://api.github.com/users/jorgecarleitao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jorgecarleitao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jorgecarleitao/subscriptions",
    "organizations_url": "https://api.github.com/users/jorgecarleitao/orgs",
    "repos_url": "https://api.github.com/users/jorgecarleitao/repos",
    "events_url": "https://api.github.com/users/jorgecarleitao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jorgecarleitao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-24T10:29:18Z",
  "updated_at": "2019-07-22T21:32:04Z",
  "closed_at": "2019-07-20T22:03:13Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/shap/shap/pulls/508",
    "html_url": "https://github.com/shap/shap/pull/508",
    "diff_url": "https://github.com/shap/shap/pull/508.diff",
    "patch_url": "https://github.com/shap/shap/pull/508.patch",
    "merged_at": null
  },
  "body": "The goal of this PR is to reduce the number of dependencies that are installed when installing shap, see #466 \r\n\r\nEssentially, there are two types of dependencies\r\n\r\n1. core dependencies: `['numpy', 'scipy', 'scikit-learn', 'pandas', 'tqdm']`\r\n2. non-core dependencies\r\n\r\nNon-core dependencies are dependencies of a given `feature` of the package. In Python, this can be achieved through `extras_require` keyword on `setup.py`. This PR does exactly that. It also generalizes the testing to gracefully handle uninstallable dependencies (this was limited to `xgboost` and `lightgbm`).\r\n\r\nThis PR proposes that the package contains a `extra_requires` that enumerates the features of this package:\r\n\r\n```\r\nextras_require = {\r\n    'plots': ['matplotlib', 'scikit-image', 'ipython'],\r\n    'xgboost': ['XGBoost>=v0.81'],  # A bug in XGBoost fixed in v0.81 makes XGBClassifier fail to give margin outputs\r\n    'lightgbm': ['lightgbm'],\r\n    'tensorflow': ['keras>=2.1.0', 'tensorflow>=1.4.0'],\r\n    'torch': ['pytorch>=0.4'],\r\n    'torchvision': ['pytorch>=0.4', 'torchvision']\r\n}\r\n```\r\n\r\n**This change changes the installation script:** the user now has to run `pip install shap[plots]` to obtain the same behavior as before. On the other hand, `pip install shap[plots,tensorflow]` is now possible :)\r\n\r\nThere are still a couple of changes for this PR to be completed:\r\n\r\n[ ] Document new way of installing package\r\n[ ] Add extra dependency `catboost`, that this package also depends on.\r\n[ ] Check that tests run.\r\n\r\n",
  "closed_by": {
    "login": "jorgecarleitao",
    "id": 2772607,
    "node_id": "MDQ6VXNlcjI3NzI2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2772607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jorgecarleitao",
    "html_url": "https://github.com/jorgecarleitao",
    "followers_url": "https://api.github.com/users/jorgecarleitao/followers",
    "following_url": "https://api.github.com/users/jorgecarleitao/following{/other_user}",
    "gists_url": "https://api.github.com/users/jorgecarleitao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jorgecarleitao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jorgecarleitao/subscriptions",
    "organizations_url": "https://api.github.com/users/jorgecarleitao/orgs",
    "repos_url": "https://api.github.com/users/jorgecarleitao/repos",
    "events_url": "https://api.github.com/users/jorgecarleitao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jorgecarleitao/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/508/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/508/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
