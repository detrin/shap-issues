{
  "url": "https://api.github.com/repos/shap/shap/issues/798",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/798/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/798/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/798/events",
  "html_url": "https://github.com/shap/shap/issues/798",
  "id": 490332266,
  "node_id": "MDU6SXNzdWU0OTAzMzIyNjY=",
  "number": 798,
  "title": "The use of reference data when SHAP values are calculated",
  "user": {
    "login": "mleeJordan",
    "id": 54988019,
    "node_id": "MDQ6VXNlcjU0OTg4MDE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/54988019?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mleeJordan",
    "html_url": "https://github.com/mleeJordan",
    "followers_url": "https://api.github.com/users/mleeJordan/followers",
    "following_url": "https://api.github.com/users/mleeJordan/following{/other_user}",
    "gists_url": "https://api.github.com/users/mleeJordan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mleeJordan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mleeJordan/subscriptions",
    "organizations_url": "https://api.github.com/users/mleeJordan/orgs",
    "repos_url": "https://api.github.com/users/mleeJordan/repos",
    "events_url": "https://api.github.com/users/mleeJordan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mleeJordan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-09-06T13:36:57Z",
  "updated_at": "2019-09-10T15:14:24Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "hi @slundberg,\r\n\r\nI have a time series data set. For a given date **t**, I can get the SHAP values by using a reference data set from the dates between **t-66**, **t-1** and retain top 10 features with the highest positive and negative SHAP values (in total 20 features are assessed). If I obtain another set of SHAP values using another reference data from **t-166**, **t-1** and compare the top 10 features with the previous and as expected I observe some features not showing up in the previous set.  \r\n\r\nI know that the summation of base value and the sum of SHAP values returns the model's prediction for the date **t**. However, I don't understand how the reference data is used to calculate each contribution of the features. \r\n\r\nI am using deep explainer for my MLP models and kernel explainer for my h2o models with a wrapper function. Could you tell me with simple terms how reference data is harnessed? Why do different feature sets appear with different reference data sets. \r\n\r\nMany thanks in advance!",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/798/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/798/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
