{
  "url": "https://api.github.com/repos/shap/shap/issues/762",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/762/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/762/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/762/events",
  "html_url": "https://github.com/shap/shap/issues/762",
  "id": 482788039,
  "node_id": "MDU6SXNzdWU0ODI3ODgwMzk=",
  "number": 762,
  "title": "force_plot visualizing all predictions doesn't show the feature with highest shap values",
  "user": {
    "login": "ammubharatram",
    "id": 27764519,
    "node_id": "MDQ6VXNlcjI3NzY0NTE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/27764519?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ammubharatram",
    "html_url": "https://github.com/ammubharatram",
    "followers_url": "https://api.github.com/users/ammubharatram/followers",
    "following_url": "https://api.github.com/users/ammubharatram/following{/other_user}",
    "gists_url": "https://api.github.com/users/ammubharatram/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ammubharatram/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ammubharatram/subscriptions",
    "organizations_url": "https://api.github.com/users/ammubharatram/orgs",
    "repos_url": "https://api.github.com/users/ammubharatram/repos",
    "events_url": "https://api.github.com/users/ammubharatram/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ammubharatram/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-20T10:52:28Z",
  "updated_at": "2019-08-31T22:45:12Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, I used this amazing force_plot to display all instances by sample ordering. As seen below, for instance with index 3 in my dataset the key features displayed are : MF_MATCH_RESIDENCE, MF_MATCH_CITY,MF_FUZZY_FULLNAME_MATCH,MF_MATCH_NATIONALITY AND MF_EXACT_FN_MATCH. These can be seen in this screenshot below:\r\n![image](https://user-images.githubusercontent.com/27764519/63340775-17733a80-c348-11e9-9a80-03141ec724ab.png)\r\n\r\nNow, one would expect that these are probably the features with highest shap values in magnitude when I explain the index 3 right? But that's not the case. See screenshot below:\r\n![image](https://user-images.githubusercontent.com/27764519/63340999-86509380-c348-11e9-9d18-554081f48f68.png)\r\n\r\nAs you can see, the top 3 contributing features namely MF_MATCH_DOB, MF_MATCH_YOB and GNM_DoBScore were not even displayed in the force plot above! What is more surprising is that when I tried to toggle through all the instances in the above force_plot, these top 3 features were not part of most of the displaying features. However, they are the highest contributing in almost all my instances, as they are the variables of highest importance by my Random Forest. I am wondering if there is some issue with the way this wonderful dynamic force_plot is built? Please help.\r\n\r\nIf needed for you to address this issue, I will then send subset of my data, my random forest model object and my code as they are confidential information.  Thanks in advance!\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/762/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/762/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
