{
  "url": "https://api.github.com/repos/shap/shap/issues/997",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/997/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/997/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/997/events",
  "html_url": "https://github.com/shap/shap/issues/997",
  "id": 549080847,
  "node_id": "MDU6SXNzdWU1NDkwODA4NDc=",
  "number": 997,
  "title": "Not Understanding the Predicted Value in Binary Classification problem",
  "user": {
    "login": "DaliaJaber",
    "id": 44632551,
    "node_id": "MDQ6VXNlcjQ0NjMyNTUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/44632551?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DaliaJaber",
    "html_url": "https://github.com/DaliaJaber",
    "followers_url": "https://api.github.com/users/DaliaJaber/followers",
    "following_url": "https://api.github.com/users/DaliaJaber/following{/other_user}",
    "gists_url": "https://api.github.com/users/DaliaJaber/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DaliaJaber/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DaliaJaber/subscriptions",
    "organizations_url": "https://api.github.com/users/DaliaJaber/orgs",
    "repos_url": "https://api.github.com/users/DaliaJaber/repos",
    "events_url": "https://api.github.com/users/DaliaJaber/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DaliaJaber/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-01-13T17:37:47Z",
  "updated_at": "2020-08-08T01:45:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "@slundberg thank you for your great explanation, however, your help is deeply appreciated since as I read all your feedback, I still do not understand what the predicted value is. I am working with a Binary Classification Problem.\r\nWith the Random Forest Classifier, using the force Plot as below with Link='Logit: \r\nshap.force_plot(explainer.expected_value[0], shap_values[0][Index], X_test.iloc[Index,:],link='logit')\r\nI calculate the Predicted output as follows:\r\nexplainer.expected_value[0] + shap_values[0][Index].sum().\r\n\r\nComputing these, I get that the expected value is 0.78 and the predicted output is 0.89. However, with link='logit' the predicted output is 0.71 as seen in the figure below:\r\n![Figure_3](https://user-images.githubusercontent.com/44632551/72206348-21334100-3495-11ea-8d99-32c6ecc1ecfc.png)\r\n\r\n\r\n\r\nand when using the default Link value the predicted output is 0.89.\r\n![Figure_2](https://user-images.githubusercontent.com/44632551/72206349-255f5e80-3495-11ea-854c-1a6872a279ef.png)\r\n\r\nLet us suppose that the first class is 0, this means that the probability of this instance belonging to class 0 is 71% and what does the value 0.89 represents? \r\nAnd for this case, each feature represented in blue is considered to be pushing the prediction away for the actual predicted value (in my case the actual predicted value is 0), and all the pink features are the one contributing towards augmenting the probability of this instance to belong to the class 0?\r\n\r\nAnd another issue, when using XGBoost with 'logit' i only get the predicted output to be 0 or 1 and no feature names are appearing on the force plot when the predicted output shown on the plot is 0.\r\n\r\n![image](https://user-images.githubusercontent.com/44632551/72206435-8fc4ce80-3496-11ea-88f2-c1ce7d6e06ed.png)\r\nCompared to:\r\n![image](https://user-images.githubusercontent.com/44632551/72206437-9d7a5400-3496-11ea-9d52-c5e907765923.png)\r\n\r\n_Originally posted by @DaliaJaber in https://github.com/slundberg/shap/issues/352#issuecomment-573324254_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/997/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/997/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
