{
  "url": "https://api.github.com/repos/shap/shap/issues/1496",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1496/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1496/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1496/events",
  "html_url": "https://github.com/shap/shap/issues/1496",
  "id": 714753766,
  "node_id": "MDU6SXNzdWU3MTQ3NTM3NjY=",
  "number": 1496,
  "title": "Contribution of each word in the deep learning model output based on its position in the sentence using shap library",
  "user": {
    "login": "Meghna-Goyal",
    "id": 40502012,
    "node_id": "MDQ6VXNlcjQwNTAyMDEy",
    "avatar_url": "https://avatars.githubusercontent.com/u/40502012?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Meghna-Goyal",
    "html_url": "https://github.com/Meghna-Goyal",
    "followers_url": "https://api.github.com/users/Meghna-Goyal/followers",
    "following_url": "https://api.github.com/users/Meghna-Goyal/following{/other_user}",
    "gists_url": "https://api.github.com/users/Meghna-Goyal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Meghna-Goyal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Meghna-Goyal/subscriptions",
    "organizations_url": "https://api.github.com/users/Meghna-Goyal/orgs",
    "repos_url": "https://api.github.com/users/Meghna-Goyal/repos",
    "events_url": "https://api.github.com/users/Meghna-Goyal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Meghna-Goyal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2020-10-05T11:23:53Z",
  "updated_at": "2020-10-05T11:23:53Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello @slundberg ,\r\n\r\nI am trying to interpret the contribution of each word in the deep learning model output based on its position in the sentence. Could you please help me to use the SHAP library for the mentioned problem?\r\nPlease find below an example demonstrating the problem that I want to solve.\r\n\r\n1. **Original sentence from the PubMed text**\r\n\r\n_\"Internal VEGFR2 inhibitor Apatinib significantly inhibited intracellular VEGF signaling, suppressed cell proliferation in vitro and delayed xenograft tumor growth in vivo, while anti-VEGF antibody Bevacizumab showed no effect.\"_\r\n\r\n2.**Sentence with masked drug and protein names is used for training and testing of the deep learning model with the LSTM layer.  The words used for masking Drug and protein names are \"ChemCompound\" and \"ProtTarget\" respectively.**\r\n\r\n_\"Internal ProtTarget inhibitor ChemCompound significantly inhibited intracellular ProtTarget signaling, suppressed cell proliferation in vitro and delayed xenograft tumor growth in vivo, while anti ProtTarget antibody ChemCompound showed no effect.\"_\r\n\r\n3. **Text classification Prediction (Deep learning model output)**\r\n\r\nThe model is predicting the type of drug-target interaction present in the sentence. For the above-mentioned example, the predicted label (interaction type) is: _inhibitor_\r\n\r\n4. **Problem to solve**\r\n\r\nThe problem is to get the name of a particular drug and protein involved in the interaction. Since there are several drug and protein names (masked) available in the sentence, I would like to calculate how much each word based on its position in the sentence is contributing to the deep learning model output. In the example, the drug and protein in bold should have more contribution to the predicted label i.e. inhibitor\r\n\r\n_\"Internal **ProtTarget** inhibitor **ChemCompound** significantly inhibited intracellular ProtTarget signaling, suppressed cell proliferation in vitro and delayed xenograft tumor growth in vivo, while anti ProtTarget antibody ChemCompound showed no effect.\"_\r\n\r\nCould you please let me know how can I calculate the shap_values for an individual word in the sentence?\r\n\r\nLooking forward to the help.\r\n\r\nBest Regards,\r\nMeghna Goyal\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1496/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1496/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
