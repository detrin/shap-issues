{
  "url": "https://api.github.com/repos/shap/shap/issues/3097",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/3097/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/3097/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/3097/events",
  "html_url": "https://github.com/shap/shap/issues/3097",
  "id": 1806843181,
  "node_id": "I_kwDOBHDcK85rsj0t",
  "number": 3097,
  "title": "3D Image Classification",
  "user": {
    "login": "JBarsotti",
    "id": 75189583,
    "node_id": "MDQ6VXNlcjc1MTg5NTgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/75189583?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JBarsotti",
    "html_url": "https://github.com/JBarsotti",
    "followers_url": "https://api.github.com/users/JBarsotti/followers",
    "following_url": "https://api.github.com/users/JBarsotti/following{/other_user}",
    "gists_url": "https://api.github.com/users/JBarsotti/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JBarsotti/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JBarsotti/subscriptions",
    "organizations_url": "https://api.github.com/users/JBarsotti/orgs",
    "repos_url": "https://api.github.com/users/JBarsotti/repos",
    "events_url": "https://api.github.com/users/JBarsotti/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JBarsotti/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 486901334,
      "node_id": "MDU6TGFiZWw0ODY5MDEzMzQ=",
      "url": "https://api.github.com/repos/shap/shap/labels/question",
      "name": "question",
      "color": "cc317c",
      "default": true,
      "description": null
    },
    {
      "id": 5750187161,
      "node_id": "LA_kwDOBHDcK88AAAABVrzkmQ",
      "url": "https://api.github.com/repos/shap/shap/labels/duplicate",
      "name": "duplicate",
      "color": "d4c5f9",
      "default": true,
      "description": "Indicates similar issues, pull requests, or discussions"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-07-17T02:30:12Z",
  "updated_at": "2023-07-18T23:18:28Z",
  "closed_at": "2023-07-18T23:11:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Problem Description\r\n\r\nI am trying to use DeepExplainer for a convolutional neural network that was trained to identify brain images. These are 3D brain images that are divided into slices. The shape of the image is (1, 140, 140, 140), where the third dimension is the number of slices (140).\r\n\r\nIs there any way to use SHAP in the case of a 3D image such as this? I have attempted to implement it using the method suggested in the [documentation](https://shap-lrjball.readthedocs.io/en/latest/example_notebooks/deep_explainer/PyTorch%20Deep%20Explainer%20MNIST%20example.html):\r\n\r\nbatch = next(iter(test_loader))\r\nimages, _ = batch\r\n\r\nbackground = images[:100]\r\ntest_images = images[100:103]\r\n\r\ne = shap.DeepExplainer(model, background)\r\nshap_values = e.shap_values(test_images)\r\n\r\nshap_numpy = [np.swapaxes(np.swapaxes(s, 1, -1), 1, 2) for s in shap_values]\r\ntest_numpy = np.swapaxes(np.swapaxes(test_images.numpy(), 1, -1), 1, 2)\r\n\r\nshap.image_plot(shap_numpy, -test_numpy)\r\n\r\nHowever, this example is for MNIST 2D images, not 3D.\r\n\r\n### Alternative Solutions\r\n\r\n_No response_\r\n\r\n### Additional Context\r\n\r\n_No response_\r\n\r\n### Feature request checklist\r\n\r\n- [X] I have checked the issue tracker for duplicate issues.\r\n- [ ] I'd be interested in making a PR to implement this feature",
  "closed_by": {
    "login": "connortann",
    "id": 71127464,
    "node_id": "MDQ6VXNlcjcxMTI3NDY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/71127464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/connortann",
    "html_url": "https://github.com/connortann",
    "followers_url": "https://api.github.com/users/connortann/followers",
    "following_url": "https://api.github.com/users/connortann/following{/other_user}",
    "gists_url": "https://api.github.com/users/connortann/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/connortann/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/connortann/subscriptions",
    "organizations_url": "https://api.github.com/users/connortann/orgs",
    "repos_url": "https://api.github.com/users/connortann/repos",
    "events_url": "https://api.github.com/users/connortann/events{/privacy}",
    "received_events_url": "https://api.github.com/users/connortann/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/3097/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/3097/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
