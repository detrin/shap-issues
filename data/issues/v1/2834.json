{
  "url": "https://api.github.com/repos/shap/shap/issues/2834",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2834/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2834/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2834/events",
  "html_url": "https://github.com/shap/shap/pull/2834",
  "id": 1533195291,
  "node_id": "PR_kwDOBHDcK85HYH6_",
  "number": 2834,
  "title": "[BUGFIX] IndexError: tuple index out of range in shap.plots.bar #2832",
  "user": {
    "login": "yonashub",
    "id": 18483226,
    "node_id": "MDQ6VXNlcjE4NDgzMjI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/18483226?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yonashub",
    "html_url": "https://github.com/yonashub",
    "followers_url": "https://api.github.com/users/yonashub/followers",
    "following_url": "https://api.github.com/users/yonashub/following{/other_user}",
    "gists_url": "https://api.github.com/users/yonashub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yonashub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yonashub/subscriptions",
    "organizations_url": "https://api.github.com/users/yonashub/orgs",
    "repos_url": "https://api.github.com/users/yonashub/repos",
    "events_url": "https://api.github.com/users/yonashub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yonashub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5579086640,
      "node_id": "LA_kwDOBHDcK88AAAABTIobMA",
      "url": "https://api.github.com/repos/shap/shap/labels/awaiting%20feedback",
      "name": "awaiting feedback",
      "color": "DCA1FD",
      "default": false,
      "description": "Indicates that further information is required from the issue creator"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-01-14T09:28:52Z",
  "updated_at": "2023-06-04T15:47:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/shap/shap/pulls/2834",
    "html_url": "https://github.com/shap/shap/pull/2834",
    "diff_url": "https://github.com/shap/shap/pull/2834.diff",
    "patch_url": "https://github.com/shap/shap/pull/2834.patch",
    "merged_at": null
  },
  "body": "This PR fixes the following IndexError due to large cohorts (cohorts > 10). Closes #2832\r\n\r\n\r\n>  hatch=patterns[i], edgecolor=(1,1,1,0.8), label=f\"{cohort_labels[i]} [{cohort_sizes[i] if i < len(cohort_sizes) else None}]\"\r\n    204     )\r\n    206 # draw the yticks (the 1e-8 is so matplotlib 3.3 doesn't try and collapse the ticks)\r\n    207 pl.yticks(list(y_pos) + list(y_pos + 1e-8), yticklabels + [l.split('=')[-1] for l in yticklabels], fontsize=13)\r\n    IndexError: tuple index out of range\r\n\r\n\r\nThis fix reuses concatenation of an existing hatch pattern when cohorts is larger than len(patterns). \r\nWhen cohort index is multiple of 0 (i.e. '') a concatenation of '|' pattern is used.\r\n\r\ne.g. \r\n> \r\n\r\n`>>> i=19`\r\n`>>> patterns[i%len(patterns)]*(i//len(patterns)+1) `\r\n`'--'`\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2834/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2834/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
