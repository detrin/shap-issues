{
  "url": "https://api.github.com/repos/shap/shap/issues/2832",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2832/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2832/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2832/events",
  "html_url": "https://github.com/shap/shap/issues/2832",
  "id": 1533176478,
  "node_id": "I_kwDOBHDcK85bYmqe",
  "number": 2832,
  "title": "IndexError: tuple index out of range in shap.plots.bar",
  "user": {
    "login": "yonashub",
    "id": 18483226,
    "node_id": "MDQ6VXNlcjE4NDgzMjI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/18483226?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yonashub",
    "html_url": "https://github.com/yonashub",
    "followers_url": "https://api.github.com/users/yonashub/followers",
    "following_url": "https://api.github.com/users/yonashub/following{/other_user}",
    "gists_url": "https://api.github.com/users/yonashub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yonashub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yonashub/subscriptions",
    "organizations_url": "https://api.github.com/users/yonashub/orgs",
    "repos_url": "https://api.github.com/users/yonashub/repos",
    "events_url": "https://api.github.com/users/yonashub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yonashub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-01-14T08:00:12Z",
  "updated_at": "2023-01-14T09:33:26Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "plt.bar() raises IndexError when number of cohorts is larger than 10.\r\n\r\nThis is due to number  of patterns available to hatch is only ten.\r\n\r\nbelow is a simple example to reproduce the error.\r\n\r\n\r\n\r\n\r\ncohorts = list(map(str, shap_values[:,\"Sex\"].data)) # two cohorts\r\nshap.plots.bar(shap_values.cohorts(cohorts)) # produces plot\r\n\r\n\r\ncohorts = list(map(str, shap_values[:,\"Workclass\"].data)) # nine cohorts\r\nshap.plots.bar(shap_values.cohorts(cohorts)) # produces plot\r\n\r\ncohorts = list(map(str, shap_values[:,\"Occupation\"].data)) # 15 cohorts\r\nshap.plots.bar(shap_values.cohorts(cohorts)) # IndexError\r\n\r\n> \r\n> --> 203         hatch=patterns[i], edgecolor=(1,1,1,0.8), label=f\"{cohort_labels[i]} [{cohort_sizes[i] if i < len(cohort_sizes) else None}]\"\r\n>     204     )\r\n>     206 # draw the yticks (the 1e-8 is so matplotlib 3.3 doesn't try and collapse the ticks)\r\n>     207 pl.yticks(list(y_pos) + list(y_pos + 1e-8), yticklabels + [l.split('=')[-1] for l in yticklabels], fontsize=13)\r\n> \r\n> IndexError: tuple index out of range\r\n\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2832/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2832/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
