{
  "url": "https://api.github.com/repos/shap/shap/issues/2698",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2698/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2698/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2698/events",
  "html_url": "https://github.com/shap/shap/issues/2698",
  "id": 1381517224,
  "node_id": "I_kwDOBHDcK85SWEeo",
  "number": 2698,
  "title": "Split function in shap.plots.bar assumes that yticklabels are strings",
  "user": {
    "login": "sinhaharsh",
    "id": 6259601,
    "node_id": "MDQ6VXNlcjYyNTk2MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6259601?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sinhaharsh",
    "html_url": "https://github.com/sinhaharsh",
    "followers_url": "https://api.github.com/users/sinhaharsh/followers",
    "following_url": "https://api.github.com/users/sinhaharsh/following{/other_user}",
    "gists_url": "https://api.github.com/users/sinhaharsh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sinhaharsh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sinhaharsh/subscriptions",
    "organizations_url": "https://api.github.com/users/sinhaharsh/orgs",
    "repos_url": "https://api.github.com/users/sinhaharsh/repos",
    "events_url": "https://api.github.com/users/sinhaharsh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sinhaharsh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-09-21T21:32:07Z",
  "updated_at": "2022-09-21T21:32:07Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The split function assumes that yticklabels are strings. In case, they are integers, it leads to an attribute error. A quick fix would be `str(l).split('=')[-1]`\r\nhttps://github.com/slundberg/shap/blob/45b85c1837283fdaeed7440ec6365a886af4a333/shap/plots/_bar.py#L207\r\n\r\n> AttributeError                            Traceback (most recent call last) <ipython-input-54-7e5c2b9fec82> in <module>\r\n> ----> 1 shap.plots.bar(shap_values)\r\n>      2 \r\n\r\n> ~/anaconda3/envs/py36/lib/python3.6/site-packages/shap/plots/_bar.py in bar(shap_values, max_display, order, clustering, clustering_cutoff, merge_cohorts, show_data, show)\r\n>    205 \r\n>    206     # draw the yticks (the 1e-8 is so matplotlib 3.3 doesn't try and collapse the ticks)\r\n> --> 207     pl.yticks(list(y_pos) + list(y_pos + 1e-8), yticklabels + [l.split('=')[-1] for l in yticklabels], fontsize=13)\r\n>    208 \r\n>    209     xlen = pl.xlim()[1] - pl.xlim()[0]\r\n\r\n> ~/anaconda3/envs/py36/lib/python3.6/site-packages/shap/plots/_bar.py in <listcomp>(.0)\r\n>    205 \r\n>    206     # draw the yticks (the 1e-8 is so matplotlib 3.3 doesn't try and collapse the ticks)\r\n> --> 207     pl.yticks(list(y_pos) + list(y_pos + 1e-8), yticklabels + [l.split('=')[-1] for l in yticklabels], fontsize=13)\r\n>    208 \r\n>    209     xlen = pl.xlim()[1] - pl.xlim()[0]\r\n\r\n > AttributeError: 'int' object has no attribute 'split'",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2698/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2698/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
