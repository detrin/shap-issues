{
  "url": "https://api.github.com/repos/shap/shap/issues/1659",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1659/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1659/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1659/events",
  "html_url": "https://github.com/shap/shap/issues/1659",
  "id": 767759413,
  "node_id": "MDU6SXNzdWU3Njc3NTk0MTM=",
  "number": 1659,
  "title": "Explanation for Shap Deep Explainer Binary classification",
  "user": {
    "login": "Mahima-ai",
    "id": 61821487,
    "node_id": "MDQ6VXNlcjYxODIxNDg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/61821487?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Mahima-ai",
    "html_url": "https://github.com/Mahima-ai",
    "followers_url": "https://api.github.com/users/Mahima-ai/followers",
    "following_url": "https://api.github.com/users/Mahima-ai/following{/other_user}",
    "gists_url": "https://api.github.com/users/Mahima-ai/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Mahima-ai/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Mahima-ai/subscriptions",
    "organizations_url": "https://api.github.com/users/Mahima-ai/orgs",
    "repos_url": "https://api.github.com/users/Mahima-ai/repos",
    "events_url": "https://api.github.com/users/Mahima-ai/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Mahima-ai/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-12-15T16:12:52Z",
  "updated_at": "2020-12-18T07:42:00Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hey @slundberg ,\r\n\r\nI am working on a TF2.3 and using Keras binary classification model. To get the explanations for the model I am using Shap Deep Explainer.\r\n\r\nExpected Output: The shap values are generated for both the classes, i.e. class 0 and class 1 as in the case of a multi-class classification TF Keras model using Shap Deep Explainer or a binary classification scikit model using shap Kernel Explainer.\r\n\r\nScenario 1:\r\nThe model is a binary classification TF model with 2 neurons and softmax activation in the output layer. \r\nActual Output: As expected (The shap values are generated for both the classes, i.e. class 0 and class 1)\r\n\r\nScenario 2: \r\nThe model is a binary classification TF model with 1 neuron and sigmoid activation in the output layer. \r\n**Actual Output: Not as expected (The shap values are generated only for one class)**\r\n\r\nReasoning:\r\nThe predict function of TF gives a different type of output in both scenarios.\r\nFor Scenario 1, the model.predict() gives the probability values for both classes.\r\nFor Scenario 2, the model.predict() gives a single probability value between 0 to 1, and then an extra step is required to get the probability values for both the classes. This extra step is not included in TF2.3 and we have to do it explicitly.\r\n\r\nQuestion:\r\nIs my reasoning for the shap values correct? If yes, then where does this extra step for getting the probability values for both the classes should be implemented. If no, then please explain the output of shap values for scenario 2.\r\n\r\nThanks.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1659/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1659/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
