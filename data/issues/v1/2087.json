{
  "url": "https://api.github.com/repos/shap/shap/issues/2087",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2087/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2087/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2087/events",
  "html_url": "https://github.com/shap/shap/issues/2087",
  "id": 944048643,
  "node_id": "MDU6SXNzdWU5NDQwNDg2NDM=",
  "number": 2087,
  "title": "Unused model evaluations in Permutation explainer.",
  "user": {
    "login": "gablabc",
    "id": 32692864,
    "node_id": "MDQ6VXNlcjMyNjkyODY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/32692864?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gablabc",
    "html_url": "https://github.com/gablabc",
    "followers_url": "https://api.github.com/users/gablabc/followers",
    "following_url": "https://api.github.com/users/gablabc/following{/other_user}",
    "gists_url": "https://api.github.com/users/gablabc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gablabc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gablabc/subscriptions",
    "organizations_url": "https://api.github.com/users/gablabc/orgs",
    "repos_url": "https://api.github.com/users/gablabc/repos",
    "events_url": "https://api.github.com/users/gablabc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gablabc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-07-14T05:12:19Z",
  "updated_at": "2021-07-19T18:10:38Z",
  "closed_at": "2021-07-19T18:10:38Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, \r\nI am really enjoying the SHAP library, and for a while, my curiosity has driven me to analyse and understand its source code.\r\n\r\nCurrently I have been studying the Permutation explainer  and I think I found out a little problem. At the following lines https://github.com/slundberg/shap/blob/master/shap/explainers/_permutation.py#L104-L108\r\n\r\nIt appears that the same code is repeated twice. From what I understand, the intent was to have the first for-loop compute marginal contributions of the features when going forward (the first half of the rows of the array \"outputs\"),\r\nand a second for-loop to compute the marginal contributions when going backward (second half of the rows of the array \"outputs\"). The way the code is currently implemented, the second half of the rows of \"outputs\" is never used. This could be sub-optimal because \"outputs\" stores the results of multiple model evaluations and some of them are never used when computing the Shapley values.\r\n\r\nI just wanted to make sure that this is actually an issue and that I am not misunderstanding the code.\r\nThank you very much.",
  "closed_by": {
    "login": "gablabc",
    "id": 32692864,
    "node_id": "MDQ6VXNlcjMyNjkyODY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/32692864?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gablabc",
    "html_url": "https://github.com/gablabc",
    "followers_url": "https://api.github.com/users/gablabc/followers",
    "following_url": "https://api.github.com/users/gablabc/following{/other_user}",
    "gists_url": "https://api.github.com/users/gablabc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gablabc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gablabc/subscriptions",
    "organizations_url": "https://api.github.com/users/gablabc/orgs",
    "repos_url": "https://api.github.com/users/gablabc/repos",
    "events_url": "https://api.github.com/users/gablabc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gablabc/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2087/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2087/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
