{
  "url": "https://api.github.com/repos/shap/shap/issues/364",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/364/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/364/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/364/events",
  "html_url": "https://github.com/shap/shap/issues/364",
  "id": 393670245,
  "node_id": "MDU6SXNzdWUzOTM2NzAyNDU=",
  "number": 364,
  "title": "Highlighting feature value colors when using KernelExplainer with TFIDFVectorizer",
  "user": {
    "login": "Ravikiran-Bhat-Git",
    "id": 12827109,
    "node_id": "MDQ6VXNlcjEyODI3MTA5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12827109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ravikiran-Bhat-Git",
    "html_url": "https://github.com/Ravikiran-Bhat-Git",
    "followers_url": "https://api.github.com/users/Ravikiran-Bhat-Git/followers",
    "following_url": "https://api.github.com/users/Ravikiran-Bhat-Git/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ravikiran-Bhat-Git/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ravikiran-Bhat-Git/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ravikiran-Bhat-Git/subscriptions",
    "organizations_url": "https://api.github.com/users/Ravikiran-Bhat-Git/orgs",
    "repos_url": "https://api.github.com/users/Ravikiran-Bhat-Git/repos",
    "events_url": "https://api.github.com/users/Ravikiran-Bhat-Git/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ravikiran-Bhat-Git/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-12-22T12:41:53Z",
  "updated_at": "2019-01-07T17:30:59Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am trying to make a summary plot using KernelExplainer with TFIDFVectorizer as feature extractor for text classifiation.  I am trying to obtain the summary plot as follows:\r\n`x_train, x_test, y_train, y_test = train_test_split(list_corpus, list_labels, test_size=0.3, random_state=40)`\r\n\r\n`vec = TfidfVectorizer(sublinear_tf=True,  strip_accents='unicode', analyzer='word', smooth_idf=True,  ngram_range=(1, 3))`\r\n\r\n`vec.fit(x_train)`\r\n`estimator = LogisticRegression(solver='newton-cg', n_jobs=-1)`\r\n`train_vectors = vec.fit_transform(x_train)`\r\n`test_vectors = vec.transform(x_test)`\r\n`estimator.fit(train_vectors, y_train)`\r\n`explainer = shap.KernelExplainer(estimator.predict_proba,  train_vectors)`\r\n\r\n`shap_values = explainer.shap_values(test_vectors)`\r\n`feature_names = vec.get_feature_names()`\r\n`shap.summary_plot(shap_values[0],feature_names=feature_names)`\r\n\r\nCurrently the output I am getting is as follows:\r\n![image](https://user-images.githubusercontent.com/12827109/50374409-138eed00-05ee-11e9-9b13-3228a64a46f9.png)\r\nThe summary plot does not  include the feature values in color. I tried to use the matrix given by vec.fit_transform(x_train) as a parameter for the summary plot but that didn't help either. Is there any way to highlight the feature values in this plot.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/364/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/364/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
