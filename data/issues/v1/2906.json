{
  "url": "https://api.github.com/repos/shap/shap/issues/2906",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2906/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2906/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2906/events",
  "html_url": "https://github.com/shap/shap/issues/2906",
  "id": 1681667500,
  "node_id": "I_kwDOBHDcK85kPDWs",
  "number": 2906,
  "title": "Rationalizing Counterintuitive Shap values",
  "user": {
    "login": "datascienceenthu1",
    "id": 16183661,
    "node_id": "MDQ6VXNlcjE2MTgzNjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/16183661?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/datascienceenthu1",
    "html_url": "https://github.com/datascienceenthu1",
    "followers_url": "https://api.github.com/users/datascienceenthu1/followers",
    "following_url": "https://api.github.com/users/datascienceenthu1/following{/other_user}",
    "gists_url": "https://api.github.com/users/datascienceenthu1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/datascienceenthu1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/datascienceenthu1/subscriptions",
    "organizations_url": "https://api.github.com/users/datascienceenthu1/orgs",
    "repos_url": "https://api.github.com/users/datascienceenthu1/repos",
    "events_url": "https://api.github.com/users/datascienceenthu1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/datascienceenthu1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-04-24T16:44:47Z",
  "updated_at": "2023-06-16T22:53:23Z",
  "closed_at": "2023-06-16T22:53:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Suppose we train a single binary classification model on tabular data with 3 cohorts C1, C2, C3 with 100 features F1 to F100.  We observe a certain distribution of features Fis in cohort C1 and using other metrics we expect a certain ranking of features for any record from C1. \r\n\r\nBut when we look at Shap values- sometimes the Shap rank or Shap value tends to be counterintuitive.. Say F10 which is not expected to have much predictive power in Cohort C1 (given either range of F10 is more narrow in C1 or observed distribution of F10 is as such in C1 ) has a high Shap rank /value for a record from C1.  \r\n\r\n F10 ends up having a high Shap value probably because while evaluating marginal contribution- multiple values of F10 are tried outside typical range in C1.  How do we explain this and how do we prevent this ?\r\nIf we use a background dataset is this expected ?\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2906/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2906/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
