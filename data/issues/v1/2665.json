{
  "url": "https://api.github.com/repos/shap/shap/issues/2665",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2665/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2665/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2665/events",
  "html_url": "https://github.com/shap/shap/issues/2665",
  "id": 1355885520,
  "node_id": "I_kwDOBHDcK85Q0SvQ",
  "number": 2665,
  "title": "TreeExplainer on XGBoost producing same output value (f(x)) for every instance in shap.plots.force()",
  "user": {
    "login": "MickeyV123",
    "id": 52943521,
    "node_id": "MDQ6VXNlcjUyOTQzNTIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/52943521?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MickeyV123",
    "html_url": "https://github.com/MickeyV123",
    "followers_url": "https://api.github.com/users/MickeyV123/followers",
    "following_url": "https://api.github.com/users/MickeyV123/following{/other_user}",
    "gists_url": "https://api.github.com/users/MickeyV123/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MickeyV123/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MickeyV123/subscriptions",
    "organizations_url": "https://api.github.com/users/MickeyV123/orgs",
    "repos_url": "https://api.github.com/users/MickeyV123/repos",
    "events_url": "https://api.github.com/users/MickeyV123/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MickeyV123/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-08-30T14:45:29Z",
  "updated_at": "2022-08-30T14:45:29Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have trained a binary XGBoost classification model and the model predictions make sense based on my qualitative review of different instances.  However, when I try to produce shap.plots.force() for different instances to explain the WHY, the f(x) is the same for each instance, plus the base value does not equate to the average probability of my sample training set used in shap.TreeExplainer().  \r\n<img width=\"361\" alt=\"xgb_predict_proba\" src=\"https://user-images.githubusercontent.com/52943521/187467386-3969b85d-6d79-4485-8466-be8562163288.png\">\r\n<img width=\"569\" alt=\"shap TreeExplainer\" src=\"https://user-images.githubusercontent.com/52943521/187467433-b9d9cb91-e5d9-4ffa-93ae-68a413d6c453.png\">\r\n<img width=\"578\" alt=\"shap plots force\" src=\"https://user-images.githubusercontent.com/52943521/187467541-7d104e51-aa98-4550-b273-23452cf0af5e.png\">\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2665/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2665/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
