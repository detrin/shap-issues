{
  "url": "https://api.github.com/repos/shap/shap/issues/2203",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2203/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2203/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2203/events",
  "html_url": "https://github.com/shap/shap/issues/2203",
  "id": 1013627593,
  "node_id": "I_kwDOBHDcK848arrJ",
  "number": 2203,
  "title": "Partial dependence plot",
  "user": {
    "login": "JB4Jaison",
    "id": 33185263,
    "node_id": "MDQ6VXNlcjMzMTg1MjYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33185263?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JB4Jaison",
    "html_url": "https://github.com/JB4Jaison",
    "followers_url": "https://api.github.com/users/JB4Jaison/followers",
    "following_url": "https://api.github.com/users/JB4Jaison/following{/other_user}",
    "gists_url": "https://api.github.com/users/JB4Jaison/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JB4Jaison/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JB4Jaison/subscriptions",
    "organizations_url": "https://api.github.com/users/JB4Jaison/orgs",
    "repos_url": "https://api.github.com/users/JB4Jaison/repos",
    "events_url": "https://api.github.com/users/JB4Jaison/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JB4Jaison/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2021-10-01T18:04:43Z",
  "updated_at": "2021-10-01T18:08:55Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The current command for plotting a partial dependence plot show in the documentation doesn't work.\r\n```\r\nshap.plots.partial_dependence(\r\n    \"RM\", model.predict, X100, ice=False,\r\n    model_expected_value=True, feature_expected_value=True\r\n)\r\n```\r\nI'm guessing there was change in the internal code which causes this issues. I was able to get it working using:\r\n```\r\nshap.partial_dependence_plot(\r\n    \"RM\", model.predict, X100, ice=False,\r\n    model_expected_value=True, feature_expected_value=True\r\n)\r\n```\r\n\r\nThe dependencies I am using are: \r\n\r\nName                    Version     \r\nargon2-cffi               20.1.0           \r\nasync_generator           1.10               \r\nattrs                     21.2.0            \r\nbackcall                  0.2.0              \r\nblas                      1.0                         \r\nbleach                    4.0.0              \r\nbottleneck                1.3.2            \r\nbrotli                    1.0.9                \r\nca-certificates           2021.7.5             \r\ncertifi                   2021.5.30      \r\ncffi                      1.14.6          \r\ncloudpickle               2.0.0         \r\ncolorama                  0.4.4              \r\ncycler                    0.10.0          \r\ndebugpy                   1.4.1            \r\ndecorator                 5.0.9             \r\ndefusedxml                0.7.1              \r\nentrypoints               0.3              \r\nfonttools                 4.25.0             \r\nfreetype                  2.10.4               \r\nicc_rt                    2019.0.0           \r\nicu                       58.2                \r\nimportlib-metadata        4.8.1        \r\nimportlib_metadata        4.8.1               \r\nintel-openmp              2021.3.0          \r\nipykernel                 6.2.0            \r\nipython                   7.27.0          \r\nipython_genutils          0.2.0             \r\nipywidgets                7.6.4            \r\njedi                      0.18.0         \r\njinja2                    3.0.1              \r\njoblib                    1.0.1            \r\njpeg                      9d                  \r\njsonschema                3.2.0           \r\njupyter                   1.0.0            \r\njupyter_client            7.0.1           \r\njupyter_console           6.4.0             \r\njupyter_core              4.7.1          \r\njupyterlab_pygments       0.1.2                \r\njupyterlab_widgets        1.0.0           \r\nkiwisolver                1.3.1         \r\nlibpng                    1.6.37           \r\nlibtiff                   4.2.0             \r\nllvmlite                  0.36.0          \r\nlz4-c                     1.9.3             \r\nm2w64-gcc-libgfortran     5.3.0                        \r\nm2w64-gcc-libs            5.3.0                         \r\nm2w64-gcc-libs-core       5.3.0                           \r\nm2w64-gmp                 6.1.0                          \r\nm2w64-libwinpthread-git   5.0.0.4634.697f757                 \r\nmarkupsafe                2.0.1           \r\nmatplotlib                3.4.2        \r\nmatplotlib-base           3.4.2         \r\nmatplotlib-inline         0.1.2           \r\nmistune                   0.8.4            \r\nmkl                       2021.3.0          \r\nmkl-service               2.4.0     \r\nmkl_fft                   1.3.0            \r\nmkl_random                1.2.2        \r\nmsys2-conda-epoch     20160418                  \r\nmunkres                   1.1.4                 \r\nnbclient                  0.5.3              \r\nnbconvert                 6.1.0           \r\nnbformat                  5.1.3         \r\nnest-asyncio              1.5.1            \r\nnotebook                  6.4.3        \r\nnumba                     0.53.1          \r\nnumexpr                   2.7.3            \r\nnumpy                     1.20.3           \r\nnumpy-base                1.20.3     \r\nolefile                   0.46          \r\nopenssl                   1.1.1l             \r\npackaging                 21.0              \r\npandas                    1.3.3          \r\npandocfilters             1.4.3             \r\nparso                     0.8.2               \r\npickleshare               0.7.5             \r\npillow                    8.3.1              \r\npip                       21.2.4           \r\nprometheus_client         0.11.0               \r\nprompt-toolkit            3.0.17             \r\nprompt_toolkit            3.0.17                \r\npycparser                 2.20                         \r\npygments                  2.10.0            \r\npyparsing                 2.4.7               \r\npyqt                      5.9.2             \r\npyrsistent                0.18.0             \r\npython                    3.9.7               \r\npython-dateutil           2.8.2              \r\npython_abi                3.9        conda-forge\r\npytz                      2021.1              \r\npywin32                   228                \r\npywinpty                  0.5.7              \r\npyzmq                     22.2.1             \r\nqt                        5.9.7             \r\nqtconsole                 5.1.1               \r\nqtpy                      1.10.0             \r\nscikit-learn              0.24.2             \r\nscipy                     1.7.1             \r\nsend2trash                1.8.0              \r\nsetuptools                58.0.4           \r\nshap                      0.39.0              conda-forge\r\nsip                       4.19.13            \r\nsix                       1.16.0             \r\nslicer                    0.0.7                  conda-forge\r\nsqlite                    3.36.0                 \r\ntbb                       2020.3                 \r\nterminado                 0.9.4              \r\ntestpath                  0.5.0                \r\nthreadpoolctl             2.2.0            \r\ntk                        8.6.11                \r\ntornado                   6.1                \r\ntqdm                      4.62.2             \r\ntraitlets                 5.1.0              \r\ntzdata                    2021a                 \r\nvc                        14.2                  \r\nvs2015_runtime           14.27.29016           \r\nwcwidth                   0.2.5               \r\nwebencodings              0.5.1           \r\nwheel                     0.37.0             \r\nwidgetsnbextension        3.5.1              \r\nwincertstore              0.2               \r\nwinpty                    0.4.3                           \r\nxz                        5.2.5                \r\nzipp                      3.5.0              \r\nzlib                      1.2.11               \r\nzstd                      1.4.9                \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2203/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2203/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
