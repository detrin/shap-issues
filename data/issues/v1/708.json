{
  "url": "https://api.github.com/repos/shap/shap/issues/708",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/708/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/708/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/708/events",
  "html_url": "https://github.com/shap/shap/pull/708",
  "id": 470723001,
  "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk5NTk2NjQ2",
  "number": 708,
  "title": "Made pandas, matplotlib, ipython and scikit-image optional (on the source code alone)",
  "user": {
    "login": "jorgecarleitao",
    "id": 2772607,
    "node_id": "MDQ6VXNlcjI3NzI2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2772607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jorgecarleitao",
    "html_url": "https://github.com/jorgecarleitao",
    "followers_url": "https://api.github.com/users/jorgecarleitao/followers",
    "following_url": "https://api.github.com/users/jorgecarleitao/following{/other_user}",
    "gists_url": "https://api.github.com/users/jorgecarleitao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jorgecarleitao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jorgecarleitao/subscriptions",
    "organizations_url": "https://api.github.com/users/jorgecarleitao/orgs",
    "repos_url": "https://api.github.com/users/jorgecarleitao/repos",
    "events_url": "https://api.github.com/users/jorgecarleitao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jorgecarleitao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-07-20T23:09:10Z",
  "updated_at": "2019-10-09T23:01:56Z",
  "closed_at": "2019-10-09T23:01:56Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/shap/shap/pulls/708",
    "html_url": "https://github.com/shap/shap/pull/708",
    "diff_url": "https://github.com/shap/shap/pull/708.diff",
    "patch_url": "https://github.com/shap/shap/pull/708.patch",
    "merged_at": null
  },
  "body": "This PR changes the source code for it to only depend on `['numpy', 'scipy', 'scikit-learn', 'tqdm']`. This is suitable for a production system. It partially addresses #466 and #278, and fully addresses #384.\r\n\r\nNote that this does not change `setup.py`, only the source code in `shap/shap`. Consequently, it does not completely solve the problem (it is currently unsolvable), it only helps solving it.\r\n\r\n## Rational\r\n\r\nCurrently, installing shap adds a considerable overhead and a small security concern as it depends on many packages (#466). One way to approach this is to split the `install_requires` in multiple `extra_requires`.\r\n\r\nHowever, as @slundberg pointed out in #508, conda-forge does not support extras, and many users expect `pip install shap` to be installed with plotting functionality, and pip does not support a default extra, see [here](https://github.com/pypa/setuptools/issues/1139)). Thus, changing `install_requires` `setup.py` is not feasible at this point as it breaks backward compatibility and drops support for conda-forge.\r\n\r\nAnother solution is to create a new repository, `shap-core`, that only contains the explainers, and leave this package for all things combined. However, this adds some maintenance cost that @slundberg would have to be willing to maintain.\r\n\r\nThe current compromise is for developers that want to use a minimal version of this package to fork this repository, change it, and deploy it from their own fork. \r\n\r\n## Main change\r\n\r\nThis PR introduces a set of changes to the source code that make this a bit easier: it makes the source code work without `['pandas', 'matplotlib', 'scikit-learn', 'ipython', 'scikit-image']` installed.\r\nI.e. with these changes, the only thing that the fork has to do is to change the `setup.py` for those dependencies not be part of the `install_requires`.\r\n    \r\nThis change makes shap depend only on: `['numpy', 'scipy', 'scikit-learn', 'tqdm']`.",
  "closed_by": {
    "login": "slundberg",
    "id": 3740613,
    "node_id": "MDQ6VXNlcjM3NDA2MTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3740613?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/slundberg",
    "html_url": "https://github.com/slundberg",
    "followers_url": "https://api.github.com/users/slundberg/followers",
    "following_url": "https://api.github.com/users/slundberg/following{/other_user}",
    "gists_url": "https://api.github.com/users/slundberg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/slundberg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/slundberg/subscriptions",
    "organizations_url": "https://api.github.com/users/slundberg/orgs",
    "repos_url": "https://api.github.com/users/slundberg/repos",
    "events_url": "https://api.github.com/users/slundberg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/slundberg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/708/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/708/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
