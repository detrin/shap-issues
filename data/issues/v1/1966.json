{
  "url": "https://api.github.com/repos/shap/shap/issues/1966",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1966/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1966/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1966/events",
  "html_url": "https://github.com/shap/shap/issues/1966",
  "id": 871349767,
  "node_id": "MDU6SXNzdWU4NzEzNDk3Njc=",
  "number": 1966,
  "title": " Cannot use both regular backward hooks and full backward hooks on a single Module.  PyTorch deep explain",
  "user": {
    "login": "isaacmg",
    "id": 3865062,
    "node_id": "MDQ6VXNlcjM4NjUwNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3865062?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/isaacmg",
    "html_url": "https://github.com/isaacmg",
    "followers_url": "https://api.github.com/users/isaacmg/followers",
    "following_url": "https://api.github.com/users/isaacmg/following{/other_user}",
    "gists_url": "https://api.github.com/users/isaacmg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/isaacmg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/isaacmg/subscriptions",
    "organizations_url": "https://api.github.com/users/isaacmg/orgs",
    "repos_url": "https://api.github.com/users/isaacmg/repos",
    "events_url": "https://api.github.com/users/isaacmg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/isaacmg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-04-29T19:01:59Z",
  "updated_at": "2021-04-29T19:20:52Z",
  "closed_at": "2021-04-29T19:20:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "For some reason this error randomly started popping up when running `deep_explainer.shap_values(`\r\n```\r\n File \"/home/circleci/repo/flood_forecast/evaluator.py\", line 184, in evaluate_model\r\n    model, test_data, inference_params[\"datetime_start\"]\r\n  File \"/home/circleci/repo/flood_forecast/explain_model_output.py\", line 78, in deep_explain_model_summary_plot\r\n    shap_values = deep_explainer.shap_values(background_tensor)\r\n  File \"/usr/local/lib/python3.7/site-packages/shap/explainers/_deep/__init__.py\", line 124, in shap_values\r\n    return self.explainer.shap_values(X, ranked_outputs, output_rank_order, check_additivity=check_additivity)\r\n  File \"/usr/local/lib/python3.7/site-packages/shap/explainers/_deep/deep_pytorch.py\", line 163, in shap_values\r\n    handles = self.add_handles(self.model, add_interim_values, deeplift_grad)\r\n  File \"/usr/local/lib/python3.7/site-packages/shap/explainers/_deep/deep_pytorch.py\", line 76, in add_handles\r\n    handles_list.extend(self.add_handles(child, forward_handle, backward_handle))\r\n  File \"/usr/local/lib/python3.7/site-packages/shap/explainers/_deep/deep_pytorch.py\", line 79, in add_handles\r\n    handles_list.append(model.register_backward_hook(backward_handle))\r\n  File \"/usr/local/lib/python3.7/site-packages/torch/nn/modules/module.py\", line 690, in register_backward_hook\r\n    raise RuntimeError(\"Cannot use both regular backward hooks and full backward hooks on a \"\r\nRuntimeError: Cannot use both regular backward hooks and full backward hooks on a single Module. Please use only one of them.\r\n```\r\n",
  "closed_by": {
    "login": "isaacmg",
    "id": 3865062,
    "node_id": "MDQ6VXNlcjM4NjUwNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3865062?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/isaacmg",
    "html_url": "https://github.com/isaacmg",
    "followers_url": "https://api.github.com/users/isaacmg/followers",
    "following_url": "https://api.github.com/users/isaacmg/following{/other_user}",
    "gists_url": "https://api.github.com/users/isaacmg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/isaacmg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/isaacmg/subscriptions",
    "organizations_url": "https://api.github.com/users/isaacmg/orgs",
    "repos_url": "https://api.github.com/users/isaacmg/repos",
    "events_url": "https://api.github.com/users/isaacmg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/isaacmg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1966/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1966/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
