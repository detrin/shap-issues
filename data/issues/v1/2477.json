{
  "url": "https://api.github.com/repos/shap/shap/issues/2477",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2477/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2477/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2477/events",
  "html_url": "https://github.com/shap/shap/issues/2477",
  "id": 1191805827,
  "node_id": "I_kwDOBHDcK85HCYOD",
  "number": 2477,
  "title": "The sum of every dots' shap values should be zero or not?",
  "user": {
    "login": "sym823808458",
    "id": 43782314,
    "node_id": "MDQ6VXNlcjQzNzgyMzE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/43782314?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sym823808458",
    "html_url": "https://github.com/sym823808458",
    "followers_url": "https://api.github.com/users/sym823808458/followers",
    "following_url": "https://api.github.com/users/sym823808458/following{/other_user}",
    "gists_url": "https://api.github.com/users/sym823808458/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sym823808458/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sym823808458/subscriptions",
    "organizations_url": "https://api.github.com/users/sym823808458/orgs",
    "repos_url": "https://api.github.com/users/sym823808458/repos",
    "events_url": "https://api.github.com/users/sym823808458/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sym823808458/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-04-04T13:37:04Z",
  "updated_at": "2022-04-04T13:37:04Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm working with the introductory documentation. I wanna get  overall importance of a feature. So I sum up the  shap values of every samples in the dataset and treated it as  overall importance of a feature.\r\nHowever, someone told me the sum should be zero because of the defination of shap value.I don't know it's whether right or not?Or is it depend on the model algorithms?I am confused because I ran an example of MATLAB shapley algorithm, and the sum was so close to zero, while the example given here was not zero.I put my code here.\r\n\r\nimport xgboost\r\nimport shap\r\n\r\n# train xgboost model on diabetes data:\r\nX, y = shap.datasets.diabetes()\r\nbst = xgboost.train({\"learning_rate\": 0.01}, xgboost.DMatrix(X, label=y), 100)\r\n\r\n# explain the model's prediction using SHAP values on the first 1000 training data samples\r\nshap_values = shap.TreeExplainer(bst).shap_values(X) \r\n\r\nprint(np.average(shap_values, axis=0))\r\n\r\nAny suggestions would be appreciated",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2477/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2477/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
