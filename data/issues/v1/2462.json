{
  "url": "https://api.github.com/repos/shap/shap/issues/2462",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/2462/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/2462/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/2462/events",
  "html_url": "https://github.com/shap/shap/issues/2462",
  "id": 1182962852,
  "node_id": "I_kwDOBHDcK85GgpSk",
  "number": 2462,
  "title": "Why does the computer overheat when calculating shap value?",
  "user": {
    "login": "dayoung627",
    "id": 94440468,
    "node_id": "U_kgDOBaEMFA",
    "avatar_url": "https://avatars.githubusercontent.com/u/94440468?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dayoung627",
    "html_url": "https://github.com/dayoung627",
    "followers_url": "https://api.github.com/users/dayoung627/followers",
    "following_url": "https://api.github.com/users/dayoung627/following{/other_user}",
    "gists_url": "https://api.github.com/users/dayoung627/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dayoung627/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dayoung627/subscriptions",
    "organizations_url": "https://api.github.com/users/dayoung627/orgs",
    "repos_url": "https://api.github.com/users/dayoung627/repos",
    "events_url": "https://api.github.com/users/dayoung627/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dayoung627/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-03-28T06:33:55Z",
  "updated_at": "2022-03-28T06:43:43Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I tried to calculate the shap value using a model composed of LSTM and GridSearchCV. However, when calculating the shap value, the computer overheats and Spyder disconnects. \r\nIs it a problem when using the GridSearchCV model for shap value calculation?\r\n\r\n```\r\ndef make_lstm():\r\n    model = Sequential()\r\n    model.add(LSTM(64, input_shape=(train_feature.shape[1], train_feature.shape[2]), \r\n                   activation='tanh'))\r\n    model.add(Dense(1)) \r\n    model.compile(loss='mean_squared_error', optimizer='adam')\r\n    model.summary()\r\n    return model\r\n\r\nmodel = KerasRegressor(build_fn=make_lstm, verbose=0)\r\n\r\nparameter_space = {\r\n    'batch_size': [128,256],\r\n    'epochs': [100,150]}\r\n\r\nlstm = GridSearchCV(estimator=model, param_grid=parameter_space, scoring='r2', n_jobs=-1, cv=7)\r\nlstm.fit(train_feature, train_label)\r\nestimator = lstm.best_estimator_.model\r\n\r\nexplainer = shap.DeepExplainer(estimator, train_feature)\r\nshap_values = explainer.shap_values(test_feature)\r\nshap.initjs()\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/2462/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/2462/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
