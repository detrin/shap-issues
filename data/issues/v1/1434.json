{
  "url": "https://api.github.com/repos/shap/shap/issues/1434",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/1434/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/1434/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/1434/events",
  "html_url": "https://github.com/shap/shap/issues/1434",
  "id": 702218970,
  "node_id": "MDU6SXNzdWU3MDIyMTg5NzA=",
  "number": 1434,
  "title": "Issue with shap.force_plot() from shap values computed with a LinearExplainer",
  "user": {
    "login": "86mm86",
    "id": 29922533,
    "node_id": "MDQ6VXNlcjI5OTIyNTMz",
    "avatar_url": "https://avatars.githubusercontent.com/u/29922533?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/86mm86",
    "html_url": "https://github.com/86mm86",
    "followers_url": "https://api.github.com/users/86mm86/followers",
    "following_url": "https://api.github.com/users/86mm86/following{/other_user}",
    "gists_url": "https://api.github.com/users/86mm86/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/86mm86/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/86mm86/subscriptions",
    "organizations_url": "https://api.github.com/users/86mm86/orgs",
    "repos_url": "https://api.github.com/users/86mm86/repos",
    "events_url": "https://api.github.com/users/86mm86/events{/privacy}",
    "received_events_url": "https://api.github.com/users/86mm86/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2020-09-15T20:01:06Z",
  "updated_at": "2020-09-16T22:21:03Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Recently I have been trying to explain the predictions of my logistic regression classifier in production using shap in the context of a multiclass text classification task.\r\n\r\nWhen I use the `shap.force_plot()` function to show the explanation of a single prediction (using the parameter `link='logit'` to transform log-odds ticks in the plot to probabilities), the **output value** label of the tick in the force plot does not coincide with the probability output of the logistic regression model for the predicted class (in my understanding it should). \r\nI have generated the shap estimator of the logistic regression model using `shap.LinearExplainer(..., feature_dependence='independent')`.\r\n\r\nPlease note that I use an analogous approach to explain predictions of a random forest classifier in a subsequent downstream classification task (using `shap.TreeExplainer()`). In this case though the **output value** in the force plot coincides with the output of the predicted class of the random forest model. \r\n\r\nAny help would be appreciated!",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/1434/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/1434/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
