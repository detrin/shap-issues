{
  "url": "https://api.github.com/repos/shap/shap/issues/777",
  "repository_url": "https://api.github.com/repos/shap/shap",
  "labels_url": "https://api.github.com/repos/shap/shap/issues/777/labels{/name}",
  "comments_url": "https://api.github.com/repos/shap/shap/issues/777/comments",
  "events_url": "https://api.github.com/repos/shap/shap/issues/777/events",
  "html_url": "https://github.com/shap/shap/issues/777",
  "id": 485967397,
  "node_id": "MDU6SXNzdWU0ODU5NjczOTc=",
  "number": 777,
  "title": "What would be needed to implement interaction values for other Explainers? For which one would it be most straightforward?",
  "user": {
    "login": "MichalPorwisz",
    "id": 23621628,
    "node_id": "MDQ6VXNlcjIzNjIxNjI4",
    "avatar_url": "https://avatars.githubusercontent.com/u/23621628?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MichalPorwisz",
    "html_url": "https://github.com/MichalPorwisz",
    "followers_url": "https://api.github.com/users/MichalPorwisz/followers",
    "following_url": "https://api.github.com/users/MichalPorwisz/following{/other_user}",
    "gists_url": "https://api.github.com/users/MichalPorwisz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MichalPorwisz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MichalPorwisz/subscriptions",
    "organizations_url": "https://api.github.com/users/MichalPorwisz/orgs",
    "repos_url": "https://api.github.com/users/MichalPorwisz/repos",
    "events_url": "https://api.github.com/users/MichalPorwisz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MichalPorwisz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-27T18:34:24Z",
  "updated_at": "2019-08-31T14:23:14Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I (and a few other people) am interested in using interaction values for models different than tree ensembles and/or for tree ensembles, but with different backgrounds than just training set (so with feature_dependence=\"independent\"). If that wouldn't be that difficult and you would provide some guidance, we could consider taking a go at implementing them ourselves.\r\n\r\nAs stated in the paper, SHAP interaction values can be interpreted as the difference between the SHAP values for feature _i_ when feature _j_ is present and the SHAP values for feature _i_ when feature _j_ is absent. Also, Shapley values equation requires that for obtaining SHAP value for feature _i_, one has to calculate contributions of all possible coalitions, so this includes all those when feature _j_ is present and those where it is absent. This would mean that we just need to keep track of those coalitions and calculate separate average of those with _j_ present and those with _j_ absent (and do this for all other features). Is this correct or am I missing something? How do the approximations used by different explainers impact that idea?\r\n\r\nAnother way would be to run an explainer twice for each feature while one input is constrained to either be the current input or the background, then taking the difference, as you mentioned here:\r\nhttps://github.com/slundberg/shap/issues/272#issuecomment-425678211\r\nThat would be especially straightforward, if an Explainer uses internally some function, where you can set which feature is taken from current input and which is integrated out. Also, you mention possible issues due to some approximations in DeepExplainer, but maybe for other explainers there wouldn't be such problems?\r\n\r\nAdditionally, in which of all the explainers (other than TreeSHAP with feature_dependence: \"tree_path_dependent\") would you say that implementing interaction values should be most straightforward?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/shap/shap/issues/777/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/shap/shap/issues/777/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
